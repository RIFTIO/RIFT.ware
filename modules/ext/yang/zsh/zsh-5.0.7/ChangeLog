2014-10-07  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Config/version.mk: 5.0.7

2014-10-06  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted (discussed offline): README: update description of
	integer import problem.

2014-10-04  Barton E. Schaefer  <schaefer@zsh.org>

	* 33354: Src/jobs.c, Test/A05execution.ztst: when backgrounding
	a pipeline, close all pipe descriptors in the parent; add test
	for both this and 33345+33346
	
2014-10-03  Bart Schaefer  <schaefer@zsh.org>

	* 33346: Src/parse.c: another bit of the 33345 repair

2014-10-03  Peter Stephenson  <p.stephenson@samsung.com>

	* 33345: Src/parse.c, Test/C04funcdef.ztst: fix longstanding
	anonoymous function corruption of "complex" state that allowed
	complex wordcode to be passed to execsimple(), causing crash.

	* unposted: src/parse.c: comments were the wrong way round.

	* 33343: Src/parse.c, Test/C04funcdef.ztst: variant anonymous
	function syntax with arguments.

2014-10-02  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: 5.0.6-dev-1.

2014-10-02  Oliver Kiddle  <opk@zsh.org>

	* 33323: Completion/Zsh/Command/_typeset, Doc/Zsh/builtins.yo,
	Src/builtin.c: fix bug in removing math functions and complete
	-M option to functions

	* 33315: Completion/Unix/Command/_sysctl: fix pattern to
	match freebsd10 and later

2014-10-02  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: remove "major".

	* 33330: README, Etc/FAQ.yo: information for forthcoming 5.0.7
	release.

	* 33332: Test/C01arith.ztst: test numeric import fix in 33276.

2014-10-02  Barton E. Schaefer  <schaefer@zsh.org>

	* 33320 (cf. PWS 33311): Completion/Base/Completer/_expand_alias,
	Src/Zle/compcore.c, Src/utils.c, Src/ztype.h: revert 33069; add
	typtab_flags bits (replaces specialcomma boolean) to record any
	unusual handling of typtab entries; signal safety; make bangchar
	non-special during completion lexing of the command line.

2014-10-02  Peter Stephenson  <p.stephenson@samsung.com>

	* 33325: Src/exec.c, Test/A05execution.ztst: fix ksh autoloads
	with redirections on function definitions.

2014-10-01  Barton E. Schaefer  <schaefer@zsh.org>

	* 33319: Doc/Zsh/grammar.yo: fix parens in example from 33312

2014-10-02  Axel Beckert  <abe@deuxchevaux.org>

	* 33284: Mathieu Malaterre: Completion/Unix/Command/_{graphics,
	image}magick: Add missing JPEG 2000 file extensions.

2014-10-01  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 33312: Doc/Zsh/builtins.yo, Doc/Zsh/grammar.yo: document
	redirections applied to function definitions.

2014-09-30  Barton E. Schaefer  <schaefer@zsh.org>

	* 33298: Src/lex.c: make lexrestore() more signal-safe

2014-09-30  Peter Stephenson  <p.stephenson@samsung.com>

	* 33294: Src/Modules/parameter.c, Test/A04redirect.ztst:
	functions[func] value for functions with redirections and
	extra tests.

	* 33293: Src/Zle/compctl.c, Src/Zle/zle_refresh.c: fix warnings
	from swish new compilers with a contemporary outlook.

2014-09-29  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 33286: Src/exec.c, Test/A04redirect.ztst: handle redirections
	for multiple named functions.

	* 33285: NEWS, Src/exec.c, Src/hashtable.c, Src/parse.c,
	Src/signals.c, Src/zsh.h, Test/A04redirect.ztst: redirections in
	function definitions are applied at execution not definition.

2014-09-29  Frank Terbeck  <ft@bewatermyfriend.org>

	* 33277: Functions/VCS_Info/VCS_INFO_reposub: Fix
	VCS_INFO_reposub's command expansion

2014-09-29  Peter Stephenson  <p.stephenson@samsung.com>

	* users/19183: Src/hist.c: handle unlikely error case with
	fdopen() better.

	* 33276: Src/params.c, Src/zsh.h: safer import of numerical
	variables from environment.

2014-09-28  Barton E. Schaefer  <schaefer@zsh.org>

	* 33268: Src/exec.c, Src/init.c, Src/signals.c: interactive shells
	treat SIGPIPE like SIGHUP if and only if SHTTY is disconnected

2014-09-27  Barton E. Schaefer  <schaefer@zsh.org>

	* 33256: Src/prompt.c: fix prompttrunc() counting of %{ %} spans

2014-09-26  Peter Stephenson  <p.stephenson@samsung.com>

	* 33242: Src/parse.c: don't treat tokens immediately following
	end of shell constructs for, while, repeat, if as being in
	command position.

	* Wieland Hoffmann: 33252: Completion/Unix/Command/_notmuch:
	complete more subcommands.

2014-09-25  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/19143: Src/glob.c: **/*(odonT) didn't work because
	the trailing slash wasn't properly ignored.

2014-09-25  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: NEWS: tweak last change.

2014-09-24  Oliver Kiddle  <opk@zsh.org>

	* 33238: Completion/Unix/Command/_quilt: correct return values

2014-09-24  Peter Stephenson  <p.stephenson@samsung.com>

	* Eric Cook: 33224: Completion/Linux/Command/_btrfs: complete
	directory as second argument.

2014-09-23  Barton E. Schaefer  <schaefer@zsh.org>

	* 33223: Completion/Base/Utility/_call_program: discard stderr
	except when _complete_debug is in progress.

2014-09-23  Øystein Walle  <oystwa@gmail.com>

	* 33179: Completion/Unix/Command/_git: _git: updates for Git 2.0.0

	* 33176: Completion/Unix/Command/_git: _git: Add missing --list to
	git-tag

	* 33178: Completion/Unix/Command/_git: _git: updates for Git 2.1.0

	* 33177: Completion/Unix/Command/_git: _git: fix typo in git-apply

	* 33180: Completion/Unix/Command/_git: _git: add missing --3way
	option

2014-09-23  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: NEWS: more minor tweaks.

	* unposted: NEWS: mention numeric output with underscore separators.

	* unposted: NEWS: mention new
	/usr/local/share/zsh/site-functions default.

2014-09-23  Peter Stephenson  <p.stephenson@samsung.com>

	* 33221 (including 33173 from Anthony Heading):
	Completion/Unix/Command/_perforce: complete directories
	when handling unmaintained files and rationalise code that does
	this.

	* unposted: Completion/Unix/Command/_dvi: add dvipdf to list of
	commands.

	* Richard Hartmann: 33218: Completion/X/Command/_mplayer:
	complete m4a files.

2014-09-22  Oliver Kiddle  <opk@zsh.org>

	* 33198: Completion/Unix/Command/_augeas: new augtool completion

	* users/19113: Completion/Linux/_cryptsetup: reorganised function

2014-09-22  Daniel Hahler  <dhahler@gmail.com>

	* 33217: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	vcs_info: use `--ignore-submodules=dirty` with diff/diff-index

2014-09-22  Peter Stephenson  <p.stephenson@samsung.com>

	* 33208: Tanu Kaskinen: improve printing of paths at end of
	configuration.

2014-09-20  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 33214 (modified yet further): configure.ac: test prefixes better.

	* 33213: configure.ac, Config/defs.mk.in: try again.

	* 33212: Src/zsh.mdd: Src/init.c, Src/zsh.mdd, configure.ac: add
	/usr/local/share/zsh/site-functions to head of fpath if not
	present from result of running configure.  There's no
	configuration for this as it serves as a fallback.

	* Tanu Kaskinen: 33209: Doc/Makefile.in: don't fail
	catastrophically when builing zsh.texi if yodl isn't available.

2014-09-19  Barton E. Schaefer  <schaefer@zsh.org>

	* 33206: Doc/Zsh/mod_computil.yo: fix compdescribe doc

	* 33205: Completion/Base/Utility/_describe: if passed both an
	array of completions and an array of display strings, keep them
	in sync when filtering for matches.

2014-09-18  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/19097: Doc/Zsh/mod_parameter.yo,
	Src/Modules/parameter.c: remove functypetrace and instead add
	cross-reference to zsh_eval_context.

2014-09-16  Marc Finet  <m.dreadlock@gmail.com>

	* 33188: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	vcs_info git: set rrn before using it

	* 33184: Doc/Zsh/contrib.yo,
	Functions/VCS_Info/Backends/VCS_INFO_get_data_git: vcs_info git:
	consider patches for rebase

2014-09-16  Mikael Magnusson  <mikachu@gmail.com>

	* 33136: Doc/Zsh/expn.yo, Src/glob.c: P glob qualifier appends
	words when negated.

	* 33137: Completion/Unix/Type/_path_files: complete # to introduce
	a glob flag

2014-09-14  Marc Finet  <m.dreadlock@gmail.com>

	* 33149: Misc/vcs_info-examples: vcs_info examples: fix typo

	* 33151: Completion/Unix/Command/_git: completion git: support
	aliases when \n exist

	* 33147: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	vcs_info git: detect revert or cherry-pick with multiple commits

	* 33148: Functions/VCS_Info/VCS_INFO_quilt: vcs_info quilt:
	refactor standalone detection

	* 33145: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	vcs_info git: fix applied-string name

	* 33150: Completion/Unix/Command/_git: completion git: fix
	send-email --confirm values

2014-09-12  Barton E. Schaefer  <schaefer@zsh.org>

	* 33143: Src/init.c: POSIX_ARGZERO more closely matches bash et al.

2014-09-12  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/19075: Doc/Zsh/mod_parameter.yo,
	Src/Modules/parameter.c: $functypestack gives "function",
	"source" or "eval" for parallel element of $funcstack.

2014-09-09  Peter Stephenson  <p.stephenson@samsung.com>

	* Eric Cook: 33132: Completion/Unix/Type/_net_interfaces: use ip
	on Linux to get interface names.

2014-09-08  Peter Stephenson  <p.stephenson@samsung.com>

	* users/19059 based on users/19058 (Paulo César Pereira de
	Andrade): Src/pattern.c, Test/D02glob.ztst: remove inefficiency
	with multiple "*"s in pattern matching and add test.

2014-09-07  Barton E. Schaefer  <schaefer@zsh.org>

	* 33122: Src/Modules/pcre.c, Test/V07pcre.ztst: typo from 32891
	caused incorrect matches for pcre_match -n

2014-09-06  Barton E. Schaefer  <schaefer@zsh.org>

	* 33118: Src/subst.c: record original param unset state when
	${name:#word} et al. need to treat empty the same as unset, to
	avoid incorrect NO_UNSET error

	* 33116: Src/hist.c: followup to 32580 to prevent double-locking
	with shared or incremental history

	* unposted: Doc/Zsh/expn.yo: clarify ${(~j.|.)array} example

2014-08-21  Mikael Magnusson  <mikachu@gmail.com>

	* 33061: Completion/Zsh/Command/_setopt,
	Completion/Zsh/Command/_unsetopt: More useful setopt / unsetopt
	completion.

2014-09-04  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 33110: Doc/Zsh/expn.yo: document use of $IFS[1] for variable
	padding.

2014-09-04  Peter Stephenson  <p.stephenson@samsung.com>

	* Alexandre Rames: 33108: Completion/Unix/Command/_stgit:
	--patch completion.

	* 33091: Doc/Zsh/builtins.yo: improve documentation for ttyctl.

2014-09-03  Barton E. Schaefer  <schaefer@zsh.org>

	* 33100: Src/exec.c: check $fd more rigorously in "exec {fd}<&-"

	* 33088: Completion/Base/Widget/_complete_debug: indentation in $PS4

2014-09-01  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Mark Oteiza: 33081: Completion/Unix/Type/_mime_types: suppress
	error message if unnecessary file not found.

2014-08-31  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted: Test/A05execution.ztst: further tweaking of the
	descriptor leak regression test that sometimes hangs

	* 33077: Src/exec.c: SHTTY = -1 when closing it in closem()

2014-08-30  Barton E. Schaefer  <schaefer@zsh.org>

	* 33070: Doc/Zsh/prompt.yo, Src/prompt.c: add %(e..) based on %e

	* 33069: Completion/Base/Completer/_expand_alias: remove internal
	quoting	before looking up aliases when expanding aliases in an
	unquoted word

2014-08-29  Peter Stephenson  <p.stephenson@samsung.com>

	* 33057: Doc/Zsh/prompt.yo, Src/prompt.c: %e in prompts shows
	evaluation / execution depth.

2014-08-28  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 33062: Etc/zsh-development-guide: update note on use of
	.distfiles based on 33047.

	* unposted: Config/version.mk: update to 5.0.6-dev-0 for new
	commits post release.

	* unposted: Config/version.mk: 5.0.6.

2014-08-24  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Config/version.mk: 5.0.5-dev-3.

2014-08-24  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted (see 33050): Completion/Unix/Command/_git: un-transpose
	help text for git merge -{-no,}-verify

2014-08-23  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 33047: .distfiles, Completion/.distfiles,
	Completion/AIX/.distfiles, Completion/AIX/Command/.distfiles,
	Completion/AIX/Type/.distfiles, Completion/BSD/.distfiles,
	Completion/BSD/Command/.distfiles, Completion/Base/.distfiles,
	Completion/Base/Completer/.distfiles,
	Completion/Base/Core/.distfiles,
	Completion/Base/Utility/.distfiles,
	Completion/Base/Widget/.distfiles,
	Completion/Cygwin/Command/.distfiles,
	Completion/Darwin/Command/.distfiles,
	Completion/Darwin/Type/.distfiles, Completion/Debian/.distfiles,
	Completion/Debian/Command/.distfiles,
	Completion/Debian/Type/.distfiles,
	Completion/Linux/Command/.distfiles,
	Completion/Linux/Type/.distfiles,
	Completion/Mandriva/.distfiles,
	Completion/Mandriva/Command/.distfiles,
	Completion/Redhat/.distfiles,
	Completion/Redhat/Command/.distfiles,
	Completion/Solaris/Command/.distfiles,
	Completion/Solaris/Type/.distfiles, Completion/Unix/.distfiles,
	Completion/Unix/Command/.distfiles,
	Completion/Unix/Type/.distfiles, Completion/X/.distfiles,
	Completion/X/Command/.distfiles, Completion/X/Type/.distfiles,
	Completion/X/Utility/.distfiles, Completion/Zsh/.distfiles,
	Completion/Zsh/Command/.distfiles,
	Completion/Zsh/Context/.distfiles,
	Completion/Zsh/Function/.distfiles,
	Completion/Zsh/Type/.distfiles,
	Completion/openSUSE/Command/.distfiles, Config/.distfiles,
	Doc/.distfiles,Doc/Zsh/.distfiles, Doc/help/.distfiles,
	Etc/.distfiles, Functions/.distfiles,
	Functions/Calendar/.distfiles, Functions/Chpwd/.distfiles,
	Functions/Compctl/.distfiles, Functions/Example/.distfiles,
	Functions/Exceptions/.distfiles, Functions/MIME/.distfiles,
	Functions/Misc/.distfiles, Functions/Newuser/.distfiles,
	Functions/Prompts/.distfiles, Functions/TCP/.distfiles,
	Functions/VCS_Info/.distfiles,
	Functions/VCS_Info/Backends/.distfiles,
	Functions/Zftp/.distfiles, Functions/Zle/.distfiles,
	Misc/.distfiles, Scripts/.distfiles, Src/.distfiles,
	Src/Builtins/.distfiles, Src/Modules/.distfiles,
	Src/Zle/.distfiles, StartupFiles/.distfiles, Test/.distfiles,
	Util/.distfiles, Util/mkdisttree.sh: Files controlled by git
	are part of the source distribution unless explicitly included
	in DISTFILES_NOT.  The .distfiles file is still needed for
	the directory to be processed.

	* unposted: Etc/.gitignore: ignore generated FAQ*.html files.

2014-08-23  Barton E. Schaefer  <schaefer@zsh.org>

	* 33046: Completion/Unix/Command/.distfiles,
	Completion/Unix/Command/_chsh, Completion/Unix/Type/_users: new
	completion for "chsh"

2014-08-22  Barton E. Schaefer  <schaefer@zsh.org>

	* 33042: NEWS, Src/jobs.c: $? and $pipestatus report 128+signal
	number for stopped jobs as well as terminated jobs

2014-08-21  Mikael Magnusson  <mikachu@gmail.com>

	* 33038: Src/glob.c: Fix {a..b} expansion hanging when either
	endpoint is a literal NUL character

2014-08-20  Barton E. Schaefer  <schaefer@zsh.org>

	* Lokesh Mandvekar: 33032: Completion/Linux/Command/_docker,
	Completion/Linux/Command/.distfiles: new completion for docker

2014-08-15  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted (see 33006): Test/A05execution.ztst: timeout the final
	"read" in hung shell regression

	* 33012: Src/utils.c: add an error return value (-1) to xsymlinks()
	to differentiate when xbuf is set to the empty string; silences
	bogus warning about failed expansion

2014-08-14  Oliver Kiddle  <opk@zsh.org>

	* 32998: Completion/Unix/Command/_dsh, Completion/Unix/Command/_nm,
	Completion/Unix/Command/_mosh, Completion/Unix/Command/_rsync,
	Completion/Unix/Command/_wget: completion function updates

	* 32997: Completion/Base/Utility/_sequence, Doc/Zsh/compsys.yo,
	Completion/Unix/Command/_mount, Completion/Unix/Command/_nmap,
	Completion/Unix/Command/_pgrep, Completion/Unix/Command/_zip:
	add completion utility function for lists

2014-08-14  Peter Stephenson  <p.stephenson@samsung.com>

	* 33002: Doc/Zsh/tcpsys.yo, Functions/TCP/tcp_expect: add option
	-P to tcp_expect for tagging matches with a string rather than
	a parameter index.

2014-08-13  Oliver Kiddle  <opk@zsh.org>

	* 32925: Completion/Zsh/Command/_kill: complete process groups,
	partly as a way to suppress insertion of ambiguous PID prefix

	* 32893: Completion/Unix/Type/_pids: move use of _call_program
	inside the _tags loop to allow processes to be separated

2014-08-12  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Config/version.mk: update to 5.0.5-dev-2.

2014-08-12  Mikael Magnusson  <mikachu@gmail.com>

	* 32985: NEWS: Add NEWS entry for array zipping operators.

2014-08-12  Peter Stephenson  <p.stephenson@samsung.com>

	* Axel Beckert: 32975, 32984: Doc/Zsh/Makefile.in: texi2html.conf
	location was inconsistent when building out of tree.

2014-08-10  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Completion/Base/Completer/.distfiles,
	Completion/Linux/Command/.distfiles,
	Completion/Unix/Command/.distfiles, Config/version.mk,
	Etc/.distfiles, Etc/FAQ.yo, Functions/Zle/.distfiles, NEWS,
	README: updates for 5.0.5-dev-1 and 5.0.6 release.

2014-08-10  Axel Beckert  <abe@deuxchevaux.org>

	* unposted: Doc/Zsh/expn.yo: Fix typo.

2014-08-08  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted: NEWS, Doc/Zsh/prompt.yo: mention 32971 in NEWS,
	clarify RPROMPT behavior in docs.

2014-08-07  Barton E. Schaefer  <schaefer@zsh.org>

	* 32971 (plus doc tweak): Doc/Zsh/prompt.yo, Src/prompt.c:
	negative argument with %(l..) conditional and with %<< or %>>
	truncation calculates space available before right margin
	(positive argument still counts space used since left margin).

2014-08-06  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted, see 32968: Completion/openSUSE/Command/.distfiles
	Completion/openSUSE/Command/_SuSEconfig ->
	Completion/openSUSE/Command/_SUSEconfig: rename file.

2014-08-04  Barton E. Schaefer  <schaefer@zsh.org>

	* Miles Ohlrich: 32958: Src/Zle/compctl.c: bitwise logic fix

2014-08-04  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32954: Doc/Zsh/expn.yo: missed this.

	* 32954 (plus new test): Src/cond.c, Test/D02glob.ztst:
	(#q) on patterns with [[ ... = ... ] and [[ ... != ... ]]
	shouldn't force a glob, it should simply be ignored.

	* unposted: Src/subst.c:  remove unused variables.

2014-08-04  Mikael Magnusson  <mikachu@gmail.com>

	* 32949 (wip 32928, 32937): Doc/Zsh/expn.yo, Src/subst.c,
	Test/D04parameter.ztst: Add :^ and :^^ for zipping arrays.

2014-08-03  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32944: Doc/Zsh/builtins.yo: read -qs is handled properly.

	* users/19006: Doc/Zsh/expn.yo: document position of
	RC_EXPAND_PARAM handling during parameter substitution.

2014-08-01  Peter Stephenson  <p.stephenson@samsung.com>

	* 32932: Src/glob.c, Src/utils.c: add hmkarray() and
	use to fix leak.

2014-07-31  Barton E. Schaefer  <schaefer@zsh.org>

	* 32931: Src/glob.c: with NO_NOMATCH, using a subscript glob
	qualifier on a not-matching pattern should still return the
	original pattern

2014-07-30  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: Src/Builtins/sched.c, Src/Modules/datetime.c,
	Src/Modules/stat.c: missed updates to ztrftime().

	* 32919: Doc/Zsh/tcpsys.yo Functions/TCP/tcp_output: %P
	at start of prompt in TCP function system causes standard
	%-style substitution.

	* 32918: Doc/Zsh/prompt.yo, Src/builtin.c,Src/prompt.c,
	Src/utils.c, Src/watch.c: add ability to display times with
	fractions of a second in prompts.

2014-07-28  Barton E. Schaefer  <schaefer@zsh.org>

	* 32593: Completion/Unix/Command/_qemu: update --vga option

2014-07-26  Axel Beckert  <abe@deuxchevaux.org>

	* Omari Norman: 32817: Add completion for moosic.

	* Sebastian Ramacher: 32816: Add completion for bpython and
	variants.

	* 32911: Expand bpython completion to bpython2 and bpython3.

2014-07-26  Barton E. Schaefer  <schaefer@zsh.org>

	* 32910: Src/mkmakemod.sh: quiet update of timestamp files

2014-07-24  Barton E. Schaefer  <schaefer@zsh.org>

	* 32853: configure.ac, Src/mem.c, Src/zsh_system.h: redefine
	the VARARR() macro to use heap rather than stack allocation;
	enable old behavior via "configure --with-stack-allocation"

	* unposted (see 32892): Src/builtins.c: 'fc -I' is an error

	* 32903: Src/Modules/parameter.c: new empty (unset) elements in
	the special parameter hash tables are special themselves, so that
	adding elements via assignment syntax handles them correctly.

2014-07-24  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: Functions/Zle/replace-argument, Doc/Zsh/contrib.yo:
	allow negative numeric prefix to count backwards from last
	argument.

2014-07-23  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jai Keerthan: users/18981: Completion/Unix/Command/_tmux:
	improved function completion.

2014-07-23  Barton E. Schaefer  <schaefer@zsh.org>

	* 32898 (credit Jun T.): Doc/Zsh/mod_pcre.yo: fix bug in 32891.

2014-07-23  Ansgar Burchardt  <ansgar@debian.org>

	* 32895: Completion/Unix/Command/_nm: Match more shared library
	names.

2014-07-20  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/builtins.yo: force retention of whitespace
	in "fc" item prototype

	* 32891: Doc/Zsh/mod_pcre.yo Src/Modules/pcre.c: the CASE_MATCH
	option should apply to =~ when using pcre; fix pcre_match bug
	with handling of empty string argument.

2014-07-17  Barton E. Schaefer  <schaefer@zsh.org>

	* 32882 (cf. Augie Fackler 32879): Src/hist.c: restore correct
	reload of backslash-continuation lines from history, broken by
	workers/30443 just before the zsh 5.0.0 release; fix bad history
	write of events ending with an even number of backslashes.

2014-07-17  Oliver Kiddle  <opk@zsh.org>

	* 32849: Completion/Linux/Command/_ss: new completion function

	* 32848: Completion/Unix/Command/_perl,
	Completion/Unix/Command/_python, Completion/Unix/Command/_ruby:
	fix words array before using _normal for script arguments

2014-07-17  Peter Stephenson  <p.stephenson@samsung.com>

	* 32866 (plus extra undo fix in read-from-minibuffer):
	Doc/Zsh/contrib.yo, Functions/Zle/read-from-minibuffer,
	Functions/Zle/replace-argument: new replace-argument function;
	fixes in read-from-minibuffer not to pass through numeric
	argument to recursive edit and to hide minibuffer edit from
	undo history.

2014-07-15  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Koen Wilde: 32863:  Completion/Unix/Command/_mpc: mpc "insert"
	command.

2014-07-08  Peter Stephenson  <p.stephenson@samsung.com>

	* Dominic Hopf: 32837: Config/defs.mk.in: improve handling of
	installation location for help directories.

	* 32832: Doc/Zsh/grammar.yo Doc/Zsh/params.yo: attempt to
	improve documentation for how assignment works.

2014-07-03  Axel Beckert  <abe@deuxchevaux.org>

	* Felipe Sateler: 32819: Completion/Debian/Command/_axi-cache:
	Update for axi-cache completion.

	* Vincent Lefevre: 32818: Completion/Unix/Command/_gzip:
	--rsyncable option is missing

	* Daniel Bolton: 32815: Completion/Debian/Command/_aptitude:
	missing resolver options

	* Sebastian Ramacher: 32814: Completion/Debian/Command/_dpkg:
	Add --add-architecture, --remove-architecture, and
	--print-foreign-architectures options.

2014-07-03  Mikael Magnusson  <mikachu@gmail.com>

	* 32821: Completion/Unix/Command/_gcc: Update _gcc as of GCC
	4.8.3 for generic options and x86.

2014-07-03  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32833: Completion/Unix/Command/_python,
	Completion/Unix/Command/_ruby: complete file arguments as for
	perl.

2014-06-30  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32823: Completion/Unix/Command/_perl: complete file
	instead of script after -e.

2014-06-26  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32812: Doc/zsh.yo, Doc/ztexi.yo: put table of contents
	at front of manual.

2014-06-26  Peter Stephenson  <p.stephenson@samsung.com>

	* 32799: Doc/Zsh/builtins.yo, Src/Builtins/rlimits.c: resource
	NTHR is not properly handled on netBSD.

2014-06-24  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32789: Src/lex.c Src/mem.c Src/zsh_system.h configure.ac:
	--enable-zsh-valgrind allows valgrind to analyse heap
	allocations.

2014-06-16  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32781: Doc/Zsh/options.yo: source builtin and path
	search doc.

2014-06-14  Jun T  <takimoto-j@kba.biglobe.ne.jp>

	* 32779: Doc/Zsh/options.yo: fix a typo in options.yo

2014-06-13  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32768, with further modifications: Doc/Zsh/options.yo,
	Src/exec.c, Src/options.c, 	Src/zsh.h, Test/E01options.ztst,
	Test/ztst.zsh:  LOCAL_LOOPS option to restrict effect of
	continue and break in function scope.

	* 32666: Doc/Zsh/compat.yo: shell emulation based on executable
	name incompletely documented.

2014-06-11  Barton E. Schaefer  <schaefer@zsh.org>

	* Jun T: 32767: Src/glob.c: another spot to tweak bracechardots()

2014-06-10  Barton E. Schaefer  <schaefer@zsh.org>

	* 32766: Src/glob.c: bracechardots() agrees with xpandbraces()
	about what constitutes a {C1..C2} pattern, thus preventing crash

	* Jun T: 32765: Src/glob.c: fix build when not MULTIBYTE_SUPPORT

2014-06-09  Peter Stephenson  <p.stephenson@samsung.com>

	* Jun T: 32755: Doc/Zsh/grammar.yo: move line that was in the
	wrong place.

2014-06-07  Barton E. Schaefer  <schaefer@zsh.org>

	* Nikolas Garofil: 32737: Src/utils.c: properly ifdef declarations

	* Nikolas Garofil: 32736 (tweak per 32741): Src/zsh_system.h:
	memmove() should return its dest argument

	* Nikolas Garofil: 32735: Src/signals.c: define ret before use

	* Nikolas Garofil: 32734: Src/mem.c: remove unused pointers

	* Nikolas Garofil: 32733: Src/prototypes.h: use size_t in bcopy()

	* Nikolas Garofil: 32732 (tweak per 32739): Src/compat.c: fix
	const declaration inconsistency

2014-06-06  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32719: Doc/Zsh/contrib.yo: minor issues.

	* Jun T: 32715: Doc/Zsh/calsys.yo, Doc/Zsh/grammar.yo,
	Doc/Zsh/zle.yo: formatting fixes.

	* 32682 with tweaks: Doc/Zsh/options.yo, Src/hist.c,
	Src/options.c, Src/zsh.h: INC_APPEND_HISTORY_TIME is new
	behaviour, with INC_APPEND_HISTORY reverting to its previous
	behaviour.

	* Andrew Magee: 32698: Completion/Unix/Command/_hg: show
	committable files.

2014-06-05  Barton E. Schaefer  <schaefer@zsh.org>

	* 32723: Src/glob.c: add braces around some if/else branches

	* 32716 (via Jun T. 31714): Src/utils.c: properly test iconv
	return values for error conditions

2014-06-04  Barton E. Schaefer  <schaefer@zsh.org>

	* 32711: Test/A07control.ztst: run "continue" test in a new
	shell, lest it inadvertently continue the loop that reads the
	test chunks from this file

	* Daniel Shahaf: 32708: Doc/Zsh/expn.yo, Src/glob.c,
	Test/D02glob.ztst: glob qualifier (Y) implies (oN), plus
	incidental patch to avoid adding a meaningless bitvalue to
	sort-order flags

2014-06-03  Barton E. Schaefer  <schaefer@zsh.org>

	* Daniel Shahaf: 32694: Completion/Zsh/Type/_globquals,
	Doc/Zsh/expn.yo, Src/glob.c, Test/D02glob.ztst: the number
	of matches to find is the suffix argument of (Y) qualifier

2014-06-03  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32681: Doc/Zsh/zle.yo: formatting issue.

2014-06-03  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: Src/cond.c: restore cond_match() in case used in
	modules.

2014-06-02  Barton E. Schaefer  <schaefer@zsh.org>

	* 32656 (via Jun T. via waltarix on github): when __APPLE__ is
	defined at compile, normalize Unicode filenames in zreaddir()

2014-06-02  Peter Stephenson  <p.stephenson@samsung.com>

	* Daniel Shahaf: users/18870: Src/glob.c, Test/D02glob.ztst:
	glob scanner needed some coaxing with counting matches with (Y)
	glob qualifier.

2014-06-02  Daniel Shahaf  <d.s@daniel.shahaf.name>

	* 32662: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	vcs_info git: Fix stagedstr for empty repos

2014-06-01  Barton E. Schaefer  <schaefer@zsh.org>

	* 32653: Completion/Unix/Command/_php: complete files with the
	".phar" extension as well as ".php", and respect the suffixes
	zstyle to change this

	* 32634 (plus doc): Doc/Zsh/options.yo, Doc/Zsh/params.yo,
	Src/init.c, Src/options.c, Src/params.c, Src/zsh.h: add the
	POSIX_ARGZERO option to allow toggling between the original
	value of $0 and the value set by FUNCTION_ARGZERO

	* Daniel Shahaf: users/18857: Doc/Zsh/expn.yo, Src/glob.c,
	Test/D02glob.ztst: add (Y) glob qualifier

2014-06-01  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32640: Doc/Zsh/cond.yo, Doc/Zsh/expn.yo, NEWS, Src/cond.c,
	Src/glob.c, Test/D02glob.ztst: (#q) with EXTENDED_GLOB forces
	globbing in [[ ... ]].

2014-05-29  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32624:  Src/builtin.c, Src/jobs.c: use correct scaling factor
	(clock ticks) for times.

	* Keerthan Jai: users/18860: Completion/Unix/Command/_man: man
	-M overrides manpath.

	* unposted: Src/params.c: use DIGBUFSIZE for pipestatus numeric
	buffer.

2014-05-29  Daniel Shahaf  <d.s@daniel.shahaf.name>

	* 32619: Functions/VCS_Info/Backends/VCS_INFO_get_data_svn:
	vcs_info svn: Use the revision of cwd

	* 32621: Functions/VCS_Info/Backends/VCS_INFO_get_data_svn:
	vcs_info svn: 'Fix set-branch-format' when in subdirs

	* 32620: Doc/Zsh/contrib.yo: Typo fix after commit eb4c70d

2014-05-18  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32616: Src/Builtins/rlimits.c: unnecessary printf
	argument in limits on some systems.

2014-05-16  Peter Stephenson  <p.stephenson@samsung.com>

	* Roman Neuhauser: users/18827 (plus tweaks to original
	comments): Doc/Zsh/contrib.yo: more efficient way of extracting
	hg bookmarks.

2014-05-13  Barton E. Schaefer  <schaefer@zsh.org>

	* 32609: Src/parse.c, Test/CO2cond.ztst: [[ $var ]] behaves as
	[[ -n $var ]] for bash/ksh compatibility; restore ksh [ -t ]
	compatibility when POSIX_BUILTINS is not set; allow operators
	defined by modules to be called with no arguments, although
	this affects only runtime interpretation, not parsing.

2014-05-09  Peter Stephenson  <p.stephenson@samsung.com>

	* Eric Cook: 32602: Doc/Zsh/grammar.yo: status of try + always
	block is from the former, not the latter.

2014-05-08  Peter Stephenson  <p.stephenson@samsung.com>

	* m0viefreak: 32600: Src/Zle/computil.c: fix problem with
	_arguments thinking -- is a single letter option called '-',
	which it isn't.

2014-05-06  Daniel Shahaf  <d.s@daniel.shahaf.name>

	* 32597: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	vcs_info git: Describe detached heads symbolically.

2014-04-29  Peter Stephenson  <p.stephenson@samsung.com>

	* Tomoki Sekiyama: 32592: add CORRECT_IGNORE_FILE variable.

2014-04-23  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Sebastien Alaiwan: 32562: Completion/Unix/Command/_bzr:
	updates for bzr completion.

	* Jasper Lievisse Adriaanse: 32558: configure.ac:
	_XOPEN_SOURCE_EXTENDED now works OK on OpenBSD.

2014-04-25  Barton E. Schaefer  <schaefer@zsh.org>

	* 32580: Src/hist.c: avoid indefinite wait in lockhistfile() by
	checking for lock file time stamp far in the future relative to
	the local clock.  Change behavior of HIST_FCNTL_LOCK to use only
	fcntl() locking, rather than applying both kinds of lock.

2014-04-20  Barton E. Schaefer  <schaefer@zsh.org>

	* 32569: Src/loop.c: lastval ($?) should not be reset between
	word list substitution and loop body execution in for/select.

	* 32568: Src/exec.c, Src/loop.c: consistency in handling of errflag
	condition during substitutions in for/select word lists, function
	definition name position, and anonymous function argument lists.

2014-04-17  Barton E. Schaefer  <schaefer@zsh.org>

	* Andrew Waldron: 32552 (updated by 32560): Src/exec.c,
	Src/parse.c, Src/subst.c, Test/C04funcdef.ztst:  fix segfault
	when using process substitution in anonymous function argument
	list; disallow process substitution in function name position.

2014-04-15  Barton E. Schaefer  <schaefer@zsh.org>

	* Jun T: 32546: Completion/Unix/Type/_path_files: better handling
	of ignored files when using -W to specify prefixes.

2014-04-13  Barton E. Schaefer  <schaefer@zsh.org>

	* 32540: Src/Zle/zle_tricky.c, Src/Zle/zle_utils.c: following
	successful history expansion, discard saved line position data
	rather than restoring from it (updates 32531).

2014-04-07  Peter Stephenson  <p.stephenson@samsung.com>

	* 32527: Doc/Zsh/contrib.yo, Functions/Misc/zcalc,
	Functions/Zle/zcalc-auto-insert: zcalc-auto-insert widget
	for key binding in zcalc.

2014-04-06  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/options.yo: fix typo in option cross-reference

	* 32531: Src/Zle/zle_refresh.c, Src/Zle/zle_tricky.c, Src/hist.c:
	fix memory leaks detected by valgrind, two in ZLE region highlight
	and one in :A history modifier.

2014-04-06  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Sebastian Ramacher: 32533: Completion/Debian/Command/_apt: add
	completion for "apt-mark".

	* Alessandro Ghedini: 32532: Completion/Debian/Command/_apt:
	support 'apt' command.

	* 32530: llua: Completion/Unix/Command/_zfs: repeatable -o
	argument.

	* 32521: Doc/Zsh/params.yo: document that LOGNAME comes
	from getlogin().

2014-04-05  Daniel Shahaf  <d.s@daniel.shahaf.name>

	* 32528: Completion/Zsh/Command/_zstyle, Doc/Zsh/contrib.yo,
	Functions/VCS_Info/Backends/VCS_INFO_get_data_git,
	Misc/vcs_info-examples: vcs_info: Add check-for-staged-changes

	* 32528: Doc/Zsh/contrib.yo: vcs_info: Document 'post-backend'
	hook and bzr 'check-for-changes' support.

2014-03-28  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Danek Duvall: 32505: Completion/Unix/Command/_pgrep: improved
	Solaris compatibility for pgrep completion.

2014-03-23  Barton E. Schaefer  <schaefer@zsh.org>

	* m0viefreak: users/18660: Src/Zle/compresult.c,
	Src/Zle/zle_misc.c, Src/Zle/zle_refresh.c: fix auto-removable
	suffix highlighting

	* m0viefreak: users/18657: Completion/Unix/Command/_git: fix
	compadd for auto-removable suffix in _git_stash

	* m0viefreak: users/18655: Completion/Unix/Command/_git: fix
	compadd for auto-removable suffix in _git_commit_ranges

2014-03-21  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Takeshi Banse: 32502: Completion/Unix/Command/_git: fix typo
	in argument list.

2014-03-20  Peter Stephenson  <p.stephenson@samsung.com>

	* users/18644: Doc/Zsh/zle.yo: bindkey -s doc should refer to
	documentation for argument interpretation.

	* Completion/Unix/Command/_perforce: finally, after more than
	ten years, complete depots after // in file paths as it always
	should have done.

2014-03-18  Barton E. Schaefer  <schaefer@zsh.org>

	* 32500: Src/pattern.c: handle interrupts during pattern matching

	* Jun T: 32497: Test/X02zlevi.ztst, Test/comptest: avoid using
	comptesteval in the middle of a series of tests; the change in
	control required for sourcing the command file can confuse the
	simulated interactive input

2014-03-17  Peter Stephenson  <p.stephenson@samsung.com>

	* Jun T: 32494: Doc/zman.yo: Yodl hack to fix indentation
	in nroff -man output.

	* Jun T: 32493: Doc/Zsh/contrib.yo, Doc/Zsh/mod_pcre.yo,
	Doc/Zsh/mod_regex.yo, Doc/Zsh/mod_sched.yo: some formatting
	fixes.

2014-03-16  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Mariusz Fik: 32847: Completion/openSUSE/Command/_zypper: new
	options.

2014-03-14  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Doc/Zsh/options.yo: document effect of 32479.

	* Jun T: 32482: Doc/zman.yo: fix character translation table
	usage with some versions of Yodl.

2014-03-14  Peter Stephenson  <p.stephenson@samsung.com>

	* 32479: Src/builtin.c, Src/signals.c: with POSIXTRAPS
	never propagate an implicit return from within a trap.

2014-03-13  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Kosuke Asami: 32473: Completion/Unix/Command/_pgrep: tidy up

	* Kosuke Asami: 32471: Completion/Unix/Command/_pgrep: handle
	BSD process options.

	* Kosuke Asami: 32472: Completion/Unix/Command/_pgrep: new options.

2014-03-13  Peter Stephenson  <p.stephenson@samsung.com>

	* Jun T: 32480: Src/Zle/zle_vi.c: fix crash in vi mode when too
	few previous changes.

2014-03-09  Barton E. Schaefer  <schaefer@zsh.org>

	* 32468: Src/Modules/zutil.c: save/restore match/mbegin/mend
	when doing pattern lookups against zstyle contexts

2014-03-03  Barton E. Schaefer  <schaefer@zsh.org>

	* users/18550: Doc/Zsh/compsys.yo: matcher-list clarifications

2014-03-03  Simon Ruderich  <simon@ruderich.org>

	* 32289: Doc: Add zsh version to footer in HTML documentation.

2014-03-03  Oliver Kiddle  <opk@zsh.org>

	* 32441: Completion/Base/Completer/_extensions, Doc/Zsh/compsys.yo:
	add completer for file extensions

	* 32450: Src/Zle/zle_hist.c: make get-line set the history
	number that was saved with the line

	* 32448: Src/Zle/zle_params.c: fix seg fault after recursive-edit

	* 32439 (with Yuri D'Elia): Completion/Base/Core/_main_complete:
	add new show-ambiguity style

	* 32436: Src/Zle/complist.c: allow = to be used in ZLS_COLORS
	patterns if it is quoted or inside parentheses

2014-03-01  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32453: Functions/Misc/zcalc: fix default base handling.

	* Manuel Presnitz: 32412 modified c.f. 32415:
	Completion/Zsh/Type/_globquals, Doc/Zsh/expn.yo, Src/glob.c,
	Src/zsh.h: gigabyte and terabyte units for glob qualifiers.

2014-02-28  Peter Stephenson  <p.stephenson@samsung.com>

	* users/18531 plus doc etc.: Doc/Zsh/contrib.yo,
	Functions/Zle/.distfiles, Functions/Zle/expand-absolute-path:
	new expand-absolute-path ZLE widget.

2014-02-26  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 32435: Completion/Base/Core/_description,
	Completion/Unix/Command/_rm: improved quoting for ignore-line
	style.

2014-02-24  Oliver Kiddle  <opk@zsh.org>

	* unposted: Doc/Zsh/compsys.yo: fix typo

	* unposted: Completion/X/Command/_x_utils: duplicate local
	statement was printing variable value

	* users/18498: Completion/Base/Completer/_expand_alias: observe
	add-space style in _expand_alias so suffix can be disabled

	* users/18485: Completion/Unix/Command/_git: add .. as an
	auto-removable suffix in git revision ranges

2014-02-24  Peter Stephenson  <p.stephenson@samsung.com>

	* Hong Xu: 32492: Completion/Unix/Command/_npm: fix outdated
	completion.

	* Sebastien Alaiwan: 32462: Completion/Unix/Command/_bzr:
	improve completion with directory path.

2014-02-23  Barton E. Schaefer  <schaefer@zsh.org>

	* 32427: Doc/Zsh/zle.yo, Src/Zle/zle_main.c: avoid busy loop
	on closed descriptors for "zle -F" handlers.  Assure that the
	handlers are called on error conditions and document the extra
	argument that is passed in the error case.

2014-02-19  Peter Stephenson  <p.stephenson@samsung.com>

	* 32414: Src/glob.c: improved error message for missing glob
	qualifier delimiters.

2014-02-18  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Eric Cook: 32408: Completion/Linux/Command/_btrfs: additional
	completions

	* Eric Cook: 32409: Completion/Linux/Command/_btrfs: updated
	completion for subcommands.

	* Eric Cook: 32411: Completion/Linux/Command/_btrfs: minor typo.

	* Eric Cook: 32410: Completion/Linux/Command/_btrfs: remove hard tabs.

	* m0viefreak: Util/helpfiles: 32402: prefer col -bx to colcrt.

	* m0viefreak: Util/helpfiles: 32405: Util/helpfiles: remove old
	example now shell code is integrated in distribution.

	* m0viefreak: 32404: Util/helpfiles: use env to find perl.

	* m0viefreak: 32403: Doc/Zsh/contrib.yo: update zshcontrib
	manual for helpfiles improvements.

2014-02-18  m0viefreak  <m0viefreak.cm@googlemail.com>

	* 32396: Completion/Unix/Command/_git: _git: fix
	__git_committish_range_{first,last} and __git_is_committish_range

	* 32395: Completion/Unix/Command/_git: _git: diff: refactor and
	fix wrong completions

	* 32397: Completion/Unix/Command/_git: _git: fix __git_submodules
	to only use the actual name of the submodule

	* 32398: Completion/Unix/Command/_git: _git: completion updates up
	to latest git v1.9.0

2014-02-17  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted (users/18468): Doc/Zsh/builtins.yo, Doc/Zsh/params.yo:
	document interactions of "fc -R" etc. with "fc -l" and $HISTCMD

2014-02-15  Barton E. Schaefer  <schaefer@zsh.org>

	* 32389 (with Jun Takimoto): Test/X02zlevi.ztst, Test/comptest:
	additional PTY and keybinding adjustments

	* 32388: Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c: zparseopts -K
	preserves individual associative array elements

2014-02-14  Oliver Kiddle  <opk@zsh.org>

	* 32361: Src/Zle/zle_tricky.c: don't reset lastline before completion

2014-02-13  Barton E. Schaefer  <schaefer@zsh.org>

	* 32377: Test/comptest: change keybindings and PTY control for
	vi-mode tests to make them more reliable

2014-02-08  Barton E. Schaefer  <schaefer@zsh.org>

	* 32365: Src/Zle/zle_refresh.c, Src/init.c: another stab at the
	heuristic for initializing rprompt_indent

2014-02-07  Peter Stephenson  <p.stephenson@samsung.com>

	* Martin Vaeth: 32356: Util/helpfiles: fix a typo.

2014-02-05  Oliver Kiddle  <opk@zsh.org>

	* 32355: Doc/Zsh/zle.yo Test/X02zlevi.ztst Test/comptest: document
	and test vi mode undo changes

	* 32342: Src/Zle/zle_main.c, Src/Zle/zle_vi.c: fix overstrike for vi
	mode and use varying vi commands at line start

	* 32334 (modified so KEEPSUFFIX is unchanged for vi-cmd-mode; based on
	Jun T: 32324, 32330), 32347, Jun T: 32344, 32349: Src/Zle/iwidgets.list,
	Src/Zle/zle_main.c, Src/Zle/zle_utils.c, Src/Zle/zle_vi.c
	add split-undo zle widget for configurable breaks in undo sequence

2014-02-02  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/builtins.yo, Doc/Zsh/expn.yo,
	Doc/Zsh/roadmap.yo: tweak index markers and related whitespace
	to make appearance consistent with other pages

	* 32341: Src/init.c: guess at best ZLE_RPROMPT_INDENT based on
	termcap/terminfo description

	* unposted: Src/Zle/zle_tricky.c: whitespace in comment

	* 32340: Src/init.c, Src/Zle/compctl.c:  add specifics to error
	messages explaining failure of "read -c" / "read -l".

	* 32338: Doc/Makefile.in: create Doc/help.txt as an empty file
	when Util/helpfiles fails, so that the rest of the build does not
	yeild a spurious error

	* 32337: Src/params.c: initialize several special parameters to
	unset for better compatibility in emulation modes; for the same
	reason, remove the readonly flag from $_

2014-01-31  Oliver Kiddle  <opk@zsh.org>

	* 32314: Src/Zle/zle_main.c, Src/Zle/zle_tricky.c,
	Src/Zle/zle_utils.c, Src/Zle/zle_vi.c: merge undo events
	corresponding to vi change in the vi-cmd-mode widget so undo from
	insert mode is useful again

2014-01-30  Barton E. Schaefer  <schaefer@zsh.org>

	* 32322: Completion/Base/Core/_main_complete: display a message
	when completion is interrupted from the keyboard

2014-01-30  Peter Stephenson  <p.stephenson@samsung.com>

	* Jun T: 32300: Completion/Unix/Command/_od: +
	Completion/Unix/Command/.distfiles: new completion.

2014-01-29  Peter Stephenson  <p.stephenson@samsung.com>

	* Christian Hesse: 32316: Completion/Unix/Command/_ssh: complete
	new ssh key type.

2014-01-28  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32303: Src/Zle/compcore.c, Completion/Zsh/Type/_parameters,
	Completion/Zsh/Context/_brace_parameter: allow completion
	of modifiers for parameters in a fairly simplistic way.

2014-01-28  Peter Stephenson  <p.stephenson@samsung.com>

	* 32308 (slightly modified to use "a" as the vi command at start
	of line): Src/Zle/zle_main.c, Src/Zle/zle_vi.c: improve
	initialising of vi mode change when entering viins at start of
	editing.

2014-01-27  Barton E. Schaefer  <schaefer@zsh.org>

	* users/18368: Completion/Unix/Command/_git: in __git_files,
	retry ls-files if nothing matched the prefix pattern, to give
	_multi_parts a shot at the whole file list.  Restores partial
	 path completion inadvertently removed by 31159.

2014-01-27  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: Src/zsh.mdd: update 31983 to suppress stdout from
	cmp, too.

2014-01-23  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/arith.yo: use LPAR()+RPAR() instead of parens
	in sqrt example

2014-01-23  Peter Stephenson  <p.stephenson@samsung.com>

	* 32299: Doc/Zsh/arith.yo, Functions/Misc/zcalc, Src/math.c,
	Src/params.c, Src/subst.c, Test/C01arith.ztst: add
	ability to use "_" at the end of a [#] arithmetic expression
	to get underscores to space numeric output.

2014-01-22  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted: Src/mem.c: reformulate 32285 to lift the fheap->sp
	test out of the loop, improve commentary

2014-01-19  Barton E. Schaefer  <schaefer@zsh.org>

	* 32294 (plus typo fix): Src/utils.c: prevent buffer overflow when
	scanning very long directory paths for symbolic links

	* users/18335: Completion/Zsh/Command/_typeset: avoid passing to
	"functions" those typeset options that it does not accept

2014-01-18  Barton E. Schaefer  <schaefer@zsh.org>

	* 32285: Src/mem.c (freeheap): when the last-arena-with-free-space
	pointer (fheap) points to an arena that is going to be discarded
	because it has become empty, loop back through the entire linked
	list of arenas to find another partly-filled arena; fixes crash
	wherein pushheap followed by freeheap could orphan the whole list
	of arenas in some circumstances

	* 32283: Src/Zle/complist.c: avoid using a negative number for
	available vertical space when the terminal has only a small number
	of lines; fixes crash in menu selection

2014-01-17  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Daniel Hahler: 32271: Doc/Zsh/compsys.yo: fix matcher list
	example.

2014-01-17  Peter Stephenson  <p.stephenson@samsung.com>

	* sergio: 32267: Completion/Linux/Command/_modutils: modinfo may
	not be in user's path, so use explicit path as already done for lsmod.

2014-01-17  Frank Terbeck  <ft@bewatermyfriend.org>

	* 32264: Functions/VCS_Info/Backends/VCS_INFO_detect_hg: vcs_info,
	hg: Support detecting repos using ShareExtension

2014-01-16  Barton E. Schaefer  <schaefer@zsh.org>

	* Thomas Mitterfellner: 32265: Completion/openSUSE/Command/_zypper:
	better handling of large lists of packages

2014-01-16  Peter Stephenson  <p.stephenson@samsung.com>

	*  Holger Macht: 32257: Completion/openSUSE/Command/_zypper:
	updates.

2014-01-14  Peter Stephenson  <p.stephenson@samsung.com>

	* 32255: Completion/Unix/Command/_python: complete for Python
	with command names python2.4 ... python3.4.

2014-01-11  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32246: Doc/Zsh/builtins.yo, Src/builtin.c, Test/.distfiles,
	Test/B08shift.ztst: add "shift -p" to pop arguments from the end
	of arrays.

2014-01-10  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Koen Wilde: 32245: Completion/Unix/Command/_mpc: complete more
	arguments.

2014-01-09  Peter Stephenson  <p.stephenson@samsung.com>

	* users/18298 (tidied up): Doc/Zsh/expn.yo, Src/glob.c,
	Test/D09brace.ztst: add {<char>..<char>} expansion.

2014-01-07  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Mark Oteiza: 32238: suppress error output completing after ip.

2014-01-06  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Config/version.mk: update to 5.0.5-dev-0 to avoid
	installation clash with 5.0.5 release.

2014-01-05  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Config/version.mk, Doc/Zsh/compsys.yo: update
	release to 5.0.5 and correct typo in compsys.yo making texinfo
	format unusable.

	* unposted but c.f. 32231: Doc/Zsh/compsys.yo: the parameter
        'line' doesn't include the original command.

	* Jun T: 32231: Completion/Unix/Command/_chmod: was confused by
	options before the mode argument.

	* Axel Beckert: 32229: LICENCE: was not correctly referring to
	Gnu General Public License.

2014-01-03  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: README: update another reference to 5.0.5.

	* users/18271 plus some additional rewriting: Etc/FAQ.yo: add
	FAQ entry to explain pattern exclusions.

	* unposted: README, Etc/FAQ.yo: update source documentation for
	5.0.5.

2014-01-02  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Danek Duvall: 32216: Completion/Solaris/Command/_svcadm,
	Completion/Solaris/Command/_zoneadm,
	Completion/Unix/Command/_zfs, Completion/Unix/Command/_zpool,
	Completion/Unix/Type/_zfs_dataset: updates for Solaris 11,
	Update 1.

	* 32196: Carl Drougge: Src/Zle/zle_misc.c: copy-prev-shell-word
	needs an extra flag to work properly.

2013-12-31  Barton E. Schaefer  <schaefer@zsh.org>

	* Eric Cook: 32210: Completion/Linux/Command/_sysstat: completion
	for mpstat, iostat, etc.

2013-12-30  Barton E. Schaefer  <schaefer@zsh.org>

	* 32208: Src/params.c: always reset pathchecked when the path
	array is modified in arrvarsetfn(), to avoid bad dereference

	* 32205: Completion/Zsh/Command/_cd: skip cdpath search when
	the prefix begins with "../" (bug introduced by 31714)

	* unposted (cf. Carlo: 32202): MACHINES: OS X 10.9.1. gcc problem

2013-12-28  Barton E. Schaefer  <schaefer@zsh.org>

	* 32190 (cf. Alexey Bezhan: 32189): Completion/Zsh/Command/_cd:
	quote _path_files -W path in case of spaces or special characters
	when completing relative to ../

	* 32186: Completion/Base/Completer/_expand: fix bad backreference;
	handle glob patterns that include backslashed quote characters

2013-12-26  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted (cf. Jun Takimoto: 32184): Test/comptest,
	Test/Y01completion.ztst: back 32183 out of comptest and instead
	reset path in the individual tests in Y01completion.ztst

2013-12-25  Barton E. Schaefer  <schaefer@zsh.org>

	* 32183: Test/comptest, Test/Y01completion.ztst: regression tests
	for 32182 and 31611

	* 32182: Src/Zle/zle_tricky.c: re-enable command completion after
	a separator (tweak to 31611)

	* 32178: Src/jobs.c: fix another acquire_pgrp() infinite loop

2013-12-21  Barton E. Schaefer  <schaefer@zsh.org>

	* PWS + Bart: 32176: plug additional descriptor leaks causing
	deadlock via different code paths; expand regression test

2013-12-21  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Config/version.mk: update version to 5.0.4-dev-0 so as
	not to clash with release.

2013-12-20  Barton E. Schaefer  <schaefer@zsh.org>

	* 32172; Test/A05execution.ztst: regression test for 32171
	
	* 32171: Src/exec.c: fix leaked pipe descriptor that could
	deadlock a pipeline from a complex shell construct or function
	into an external command

2013-12-20  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Config/version.mk, Etc/FAQ.yo, README: release 5.0.4.

2013-12-18  Barton E. Schaefer  <schaefer@zsh.org>

	* 32157: Doc/Zsh/params.yo, Src/Zle/zle_refresh.c, Src/init.c,
	Src/params.c: make ZLE_RPROMPT_INDENT a special variable tied to
	an internal C global, to avoid having the shell variable value
	fetched on every keystroke and to make it available when testing
	how to reposition the cursor after the right-prompt is output.
	Fixes erasure in completion listing when ZLE_RPROMPT_INDENT=0.

	* 32150: Completion/compaudit: Reference loop variable rather
	than absolute path in executable ownership test

2013-12-17  Phil Pennock  <pdpennock@users.sourceforge.net>

	* 32143: INSTALL: Fix --enable-custom-patchlevel name in INSTALL

2013-12-16  Barton E. Schaefer  <schaefer@zsh.org>

	* Jun Takimoto: 32137: Test/comptest: set pseudo-terminal speed to
	prevent padding characters which confuse output parsing.

2013-12-16  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32136: Src/pattern.c, Src/zsh.h, Test/D02glob.ztst:
	fix problem with +*, @*, !* when kshglob is set introduced
	by pattern disable feature.

	* unposted: NEWS: add ZLE_PROMPT_INDENT.

	* 32119: Src/Zle/zle_tricky.c: left square bracket completed in
	command position is not part of a subscript expression

	* Patrick Oscity + pws: 32114: Doc/Zsh/params.yo,
	Src/Zle/zle_refresh.c: ZLE_RPROMPT_INDENT allows you to make the
	right prompt flush if your terminal supports it.

2013-12-16  Barton E. Schaefer  <schaefer@zsh.org>

	* Jun Takimoto + Bart: 32131: Src/Modules/zpty.c: avoid infinite
	loop reading pseudo-terminal on platforms that do not buffer pty
	contents after child process exits

2013-12-15  Barton E. Schaefer  <schaefer@zsh.org>

	* users/18219: Completion/Zsh/Type/_command_names: compadd -Q for
	builtins, aliases, and reserved words to preserve special chars

2013-12-14  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: increment version to 5.0.3-dev-0 to avoid confusion
	with released 5.0.3.

	* unposted: version 5.0.3, finally.

2013-12-13  Barton E. Schaefer  <schaefer@zsh.org>

	* Martin Vaeth: 32105: Util/helpfiles: support all combinations of
	man or nroff with colcrt or col.

	* Aaron Peschel: 32103: Completion/Unix/Type/_hosts: parse
	host:port format in ssh known_hosts files.

2013-12-10  Barton E. Schaefer  <schaefer@zsh.org>

	* 32099: Src/init.c: fix pointer declaration to avoid compile
	time error when arithmetic on void * is not allowed.

2013-12-09  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/18210: Doc/Zsh/builtins.yo: document print -D better.

	* 32093: INSTALL: describe the dependency issues fixed
	by the doc bundle.

2013-12-09  Peter Stephenson  <p.stephenson@samsung.com>

	* Jun T.: 32056: Completion/Unix/Command/_iconv: Handle
	different versions of iconv.

2013-12-06  Peter Stephenson  <p.stephenson@samsung.com>

	* Daniel Shahaf: 32091: Src/exec.c, Test/E01options.ztst:
	WARN_CREATE_GLOBAL false positive for assignment before
	commands.

2013-12-05  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Daniel Shahaf: 32089:
	Functions/VCS_Info/Backends/VCS_INFO_detect_svn: tweak for
	detecting Subversion repository.

2013-12-02  Barton E. Schaefer  <schaefer@zsh.org>

	* 32080 (plus unposted second instance of same):
	Test/A05execution.ztst: suppress any error output from
	nonessential "setopt MONITOR"

2013-12-01  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Config/version.mk: 5.0.2-test-3.

2013-11-30  Barton E. Schaefer  <schaefer@zsh.org>

	* Hong Xu: 32069: Completion/Unix/Command/_git: completion for
	"git submodule update --remote"

2013-11-29  Barton E. Schaefer  <schaefer@zsh.org>

	* 32066 (via 31985 Clemens Hammacher and 32064 Hong Xu):
	Functions/VCS_Info/Backends/VCS_INFO_get_data_git,
	Functions/VCS_Info/VCS_INFO_reposub: fix %r and %S in vcs_info
	formats when a repository subdirectory is accessed via a symlink.

2013-11-27  Barton E. Schaefer  <schaefer@zsh.org>

	* 32061: Src/utils.c: Fix "use of uninitialized memory" in metafy

2013-11-27  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted, see 32054 and thread:
	Completion/Unix/Command/_cdrdao, Completion/Unix/Command/_git,
	Completion/Unix/Command/_growisofs, Etc/ChangeLog-3.0,
	Etc/ChangeLog-3.1, LICENCE, Src/Modules/clone.c,
	Src/Modules/example.c, Src/module.c: Rationalise character
	encodings: shell functions are strictly ASCII for maximum
	portability; other files needed for building and documentation
	are ASCII or UTF-8; test files may use ISO-8859-X (we don't
	require the Euro symbol) where needed to get single character
	input with the top bit set.

2013-11-25  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted, see 32050, 32051: remove non-ASCII characters in
	installed functions as this causes sed on MacOS problems.

2013-11-25  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Completion/Unix/Command/.distfiles,
	Config/version.mk: update for 5.0.2-test-2.

2013-11-25  Barton E. Schaefer  <schaefer@zsh.org>

	* 32045 (as corrected by Martin Vaeth 32047): Config/defs.mk.in,
	Doc/Makefile.in, configure.ac: use dependencies to determine
	whether to rebuild helpfiles.

2013-11-23  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32031 plus missed _run_help: Completion/Zsh/Command/_run-help,
	Config/defs.mk.in, Config/installfns.sh, Doc/Makefile.in,
	Functions/Misc/run-help, Makefile.in: turn @runhelpdir@ in
	installed functions into the actual installation path.

2013-11-20  Peter Stephenson  <p.stephenson@samsung.com>

	* 32030: revert 31995 as it caused (N) to fail on an empty
	failed glob.  Add test for this case.

2013-11-19  Barton E. Schaefer  <schaefer@zsh.org>

	* 32023: Src/utils.c: better interrupt handling at RM_STAR_WAIT

2013-11-18  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted but see 32012: Doc/help/.cvsignore,
	Doc/help/.distfiles: were created in the wrong place, so move.

2013-11-18  Barton E. Schaefer  <schaefer@zsh.org>

	* Martin Vaeth: 32008: Completion/Zsh/Command/.distfiles
	Completion/Zsh/Command/_run-help Doc/Makefile.in: follow-up to
	31988 - complete "." and ":" for run-help, distribute _run-help,
	clean up better during make

	* Han Pingtian: 31995: Src/glob.c: glob	qualifiers cannot
	follow an empty pattern, so a leading paren means grouping

2013-11-17  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 32001: Src/subst.c: fix crash on empty arrays with array
	intersection and disjunction.

2013-11-15  Barton E. Schaefer  <schaefer@zsh.org>

	* Martin Vaeth: 31988: Doc/Makefile.in, Util/helpfiles: remove
	LC_CTYPE heuristics, assure clean environment, force LANG=C

2013-11-14  Peter Stephenson  <p.stephenson@samsung.com>

	* Jun T.: 31984: Completion/Unix/Command/_df: new completion.

	* 31983: Src/zsh.mdd: suppress warning from cmp that doesn't
	indicate a problem when generating patchlevel header.

	* 31982: Src/math.c, Test/C01arith.ztst: detection of floating
	point constants had run rampant in users/17445.  Fix the original
	problem another way.

2013-11-13  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31977: Src/module.c: no error if autoloading a feature that
	is already loaded in a consistent fashion.

	* Jun T.: 31971: locale fix for helpfiles.

	* Martin Vaeth: 31959: .gitignore, Doc/help/.cvsignore,
	Doc/help/.distfiles: missed files.

2013-11-12  Bart Schaefer  <schaefer@zsh.org>

	* 31966: Util/helpfiles: skip introductory paragraphs processing
	"man zshbuiltins" by assuming that all real command names start
	with a lower case letter.  Check "ztcp" file as a guess that all
	builtins were processed.

2013-11-12  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Martin Vaeth: 31959: .gitignore,
	Completion/Zsh/Command/_run-help, Doc/.cvsignore,
	Doc/.distfiles, Doc/Makefile.in, Makefile.in,
	StartupFiles/zshrc, Util/helpfiles, configure.ac: make help
	files during installation.

	* 31961: Src/Zle/zle.h, Src/Zle/zle_main.c,
	Src/Zle/zle_thingy.c: rationalise fd watch to use structures.

2013-11-08  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: fix ChangeLog to say 5.0.3 instead of 4.0.3.

	* unposted: NEWS: refer to zle -Fw.

	* 31940: Doc/Zsh/contrib.yo, Functions/Misc/zcalc: add -e option
	to zcalc to use input from arguments to command.

2013-11-07  Peter Stephenson  <p.stephenson@samsung.com>

	* 31937: Doc/Zsh/zle.yo, Src/Zle/zle_main.c,
	Src/Zle/zle_thingy.c, Src/Zle/zle_utils.c, Src/math.c,
	Test/C01arith.ztst: zle -Fw uses widget semantics for
	file descriptor handler.

2013-11-06  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Completion/Debian/Command/.distfiles,
	Completion/Unix/Type/.distfiles, Config/version.mk, Etc/FAQ.yo,
	README, Src/pattern.c, Src/signals.c, Test/.distfiles: updates
	for 5.0.2-test-1 in preparation for 5.0.3.  Updated files
	in .distfiles and add mod_export declarations.

2013-11-03  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Stefan Neudorf: 31936: Doc/Zsh/builtins.yo,
	Src/Builtins/rlimits.awk, Src/Builtins/rlimits.c: rationalise
	thread limits

	* Stefan Neudorf: 31935: Doc/Zsh/builtins.yo,
	Src/Builtins/rlimits.awk, Src/Builtins/rlimits.c: further
	limit updates for 31930, 39134.

2013-10-31  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Stefan Neudorf: 31930 / 31934: Doc/Zsh/builtins.yo,
	Src/Builtins/rlimits.awk, Src/Builtins/rlimits.c, configure.ac,
	Src/Builtins/rlimits.c:  New BSD limits; avoid clash with
	ulimit -k.

2013-10-29  Barton E. Schaefer  <schaefer@zsh.org>

	* 31929: Src/jobs.c: fix DPUTS3() test condition from 31906.

2013-10-28  Bart Schaefer  <schaefer@zsh.org>

	* unposted: NEWS: mention HISTORY_IGNORE

2013-10-28  Peter Stephenson  <p.stephenson@samsung.com>

	* 31922: Src/Zle/zle_utils.c (zlecharasstring): missing
	flip of bit five when Meta marker inserted.

2013-10-27  Barton E. Schaefer  <schaefer@zsh.org>

	* 31912: Src/exec.c: in closemn(), distinguish closing for >&-
	from closing for a real redirect.  Fixes knock-on multios bug
	introduced by workers/20666 way back in 2005.

	* unposted (cf. users/18063): Functions/Zle/keeper: clean up
	some syntax nits, add working link to old Unix Review article

	* 31919: Src/exec.c, Src/init.c: fix deadlock when a shell builtin
	with a multio redirection is used on the left side of a pipeline,
	by making sure stdin/out/err file descriptors are closed for the
	multio copy process, which means not re-using those descriptors
	after they are closed and marked FDT_UNUSED in fdtable[].  For
	completeness, initialize their fdtable[] state to FDT_EXTERNAL.

2013-10-27  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 31909: Completion/Unix/Command/_cat: new completion.

2013-10-26  Barton E. Schaefer  <schaefer@zsh.org>

	* 31906: Src/jobs.c, Test/A05execution.ztst: printjob() should not
	reference oldjobtab for job numbers unless it is being called from
	bin_fg().  Add a DPUTS check in case this goes horribly wrong.
	printjob() also must not attempt to update pipestats when called
	from bin_fg().  Finally, acquire_pgrp() cannot acquire the tty
	group leader if the shell is not interactive, so avoid looping
	infinitely in the attempt.  Update the $pipestatus stress test so
	that it also exercises the oldjobtab repair.

2013-10-26  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 31902: rationalise gamma function in mathfunc for
	consistency with various libraries and user expectations.

2013-10-25  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31890 (with Mikael's fixes in 31891): NEWS: add descriptions
	of new features since 5.0.2.

2013-10-24  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31889: Test/D02glob.ztst: tests for disable -p.

	* 31877: Src/pattern.c: fix behaviour of disable -p for
	entities with parentheses.

2013-10-24  Barton E. Schaefer  <schaefer@zsh.org>

	* 31885: Src/jobs.c: fix PIPEFAIL behavior when the last command
	in a pipeline is executed within the current shell; add comments

2013-10-24  Peter Stephenson  <p.stephenson@samsung.com>

	* 31888: Test/A05execution.ztst: add test of pipestatus
	that was reliably failing before 31879.

	* 31882: Src/Zle/compcore.c: better insulation of
	completion widget excecution against job environment.

	* 31884: Test/A05execution.ztst: eliminate variable output
	from test due to vagaries of uniq implementation.

2013-10-23  Barton E. Schaefer  <schaefer@zsh.org>

	* 31879: Src/jobs.c: improve $pipestatus behavior when the last
	command in the pipeline is executed within the current shell

	* unposted (cf. Frank Terbeck: 30047): Test/A05redirect.ztst:
	stress test for $pipestatus handling

2013-10-23  Peter Stephenson  <p.stephenson@samsung.com>

	* 31873: Doc/Zsh/builtins.yo: Document conventions for use of
	command options with builtin commands.

2013-10-21  Barton E. Schaefer  <schaefer@zsh.org>

	* 31869: Src/input.c: reduce WINCH-twaddling in shingetline()

2013-10-21  Øystein Walle  <oystwa@gmail.com>

	* 31861: Completion/Unix/Command/_git: _git: Add git-clean
	-i/--interactive support

	* 31863: Completion/Unix/Command/_git: _git: Add new arguments
	introduced in Git v1.8.4

	* 31862: Completion/Unix/Command/_git: _git: Add status.short and
	status.branch

	* 31866: Completion/Unix/Command/_git: _git: Reword --heads to
	match new meaning

	* 31864: Completion/Unix/Command/_git: _git: Add two sub-comamnds
	introduced in v1.8.4

	* 31865: Completion/Unix/Command/_git: _git: Make --batch(-check)
	accept an argument

2013-10-21  m0viefreak  <m0viefreak.cm@googlemail.com>

	* 31856: Completion/Unix/Command/_git: _git: fix a few
	"undocumented" options

	* 31855: Completion/Unix/Command/_git: _git: revert: add
	'-e,--edit'

2013-10-21  Øystein Walle  <oystwa@gmail.com>

	* 31858: Completion/Unix/Command/_git: _git: fix wrong default
	value

2013-10-21  m0viefreak  <m0viefreak.cm@googlemail.com>

	* 31857: Completion/Unix/Command/_git: _git: Remove unsupported -q
	option from diff options

2013-10-21  Øystein Walle  <oystwa@gmail.com>

	* 31853: Completion/Unix/Command/_git: _git: Add missing column.*
	config variables

	* 31854: Completion/Unix/Command/_git: _git: Make git-show accept
	diff arguments

	* 31859: Completion/Unix/Command/_git: _git: re-order the last two
	git-blame arguments

2013-10-19  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31851: Src/exec.c: execstring() should display string to
	be executed with VERBOSE option.

2013-10-19  Barton E. Schaefer  <schaefer@zsh.org>

	* 31849: Doc/Zsh/params.yo: note effect of KSH_ZERO_SUBSCRIPT
	on the arrays of positional parameters e.g. ${argv[0]} vs. $0

2013-10-18  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31846: Src/exec.c: fix NOEXEC option in execsimple().

2013-10-18  Barton E. Schaefer  <schaefer@zsh.org>

	* 31840: Completion/Unix/Command/_make: "read" used wrong $IFS

2013-10-17  Barton E. Schaefer  <schaefer@zsh.org>

	* 31836 (cf. 31823): Doc/Zsh/params.yo, Src/hist.c: add
	HISTORY_IGNORE pattern to exclude matching lines in the
	internal history from the HISTFILE at write time.

	* 31832: Src/exec.c: make execrestore() more signal-safe.

2013-10-17  Peter Stephenson  <p.stephenson@samsung.com>

	* 31830: Doc/Zsh/func.yo, README, Src/hist.c, Src/zsh.h:
	If a zshaddhistory hook returns status 2, save the line on
	the internal history but don't write it out.

2013-10-16  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Users/18033: Doc/Zsh/builtins.yo, Doc/Zsh/jobs.yo,
	Doc/Zsh/options.yo: try to document interaction between exit and
	asynchronous jobs that don't look asynchronous.

2013-10-16  Peter Stephenson  <p.stephenson@samsung.com>

	* 31827: Doc/Zsh/func.yo: options needed for example.  Only
	works with INCAPPENDHISTORY or SHAREHISTORY.

2013-10-15  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: Doc/Zsh/func.yo: trivial typo in zshaddhistory doc.

2013-10-12  Barton E. Schaefer  <schaefer@zsh.org>

	* 31818: Completion/Unix/Command/_sh, Doc/Zsh/compsys.yo: to avoid
	side effects, reposition the _arguments call in _sh for the zsh
	special case.  Document the side effects so avoided, and clean up
	the _arguments documentation a bit along the way.

2013-10-11  Mikael Magnusson  <mikachu@gmail.com>

	* 31805: Doc/Zsh/mod_parameter.yo, Src/Modules/parameter.c,
	Src/Modules/parameter.mdd, Src/pattern.c, Test/V01zmodload.ztst:
	Add $patchars and $dis_patchars to zsh/parameter module

	* 31805: Completion/Zsh/Command/_disable,
	Completion/Zsh/Command/_enable, Doc/Zsh/builtins.yo: Update
	_enable and _disable for -p, fix related typo in docs

	* 31806: Completion/Zsh/Command/_disable,
	Completion/Zsh/Command/_enable, Workaround special characters
	in alias and function names breaking _arguments syntax

2013-10-11  Peter Stephenson  <p.stephenson@samsung.com>

	* 31815: Src/hist.c: more fallout from 31789: we need to save
	using pushed history file before we pop.

2013-10-10  Peter Stephenson  <p.stephenson@samsung.com>

	* 31810: Test/E02xtrace.ztst: tests for simple cases of XTRACE
	output for conditions.

	* 31809: Src/exec.c: make whitespace clear in trace output for
	patterns.

2013-10-08  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Eric Cook: 31801: Completion/Linux/Command/_btrfs: some
	additional variables need to be local.

2013-10-08  Barton E. Schaefer  <schaefer@zsh.org>

	* 31797: Src/hist.c: partly fix long-standing history expansion
	bug in which in some circumstances a default history expansion
	would occur even when there is neither an event nor a word
	designator, which is contradictory to the documentation.
	There are still some cases in which expansion is attempted
	when it should not be, but in most of those cases the expansion
	simply fails.

2013-10-07  Peter Stephenson  <p.stephenson@samsung.com>

	* 31794: Src/hist.c: further refinement that SHAREHISTORY should
	work as it always did because it's careful about file locking.

	* 31793: Src/hist.c (hbegin): Modify 31789 so that the save
	history here only happens for interactive editing.

2013-10-06  Wayne Davison  <wayned@users.sourceforge.net>

	* users/18024: Completion/Unix/Command/_rsync: add new options for
	rsync 3.1.0.

2013-10-06  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/18023: Doc/Zsh/options.yo, Src/jobs.c, Src/options.c,
	Src/zsh.h, Test/E01options.ztst: add PIPEFAIL option and test.

2013-10-05  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Hang Pingtian: 31789: Src/hist.c: add history for
	INCAPPENDHISTORY later so history time works.

2013-10-03  Barton E. Schaefer  <schaefer@zsh.org>

	* 31784: Src/Zle/computil.c: when deciding whether there is enough
	horizontal space to show completion descriptions for each match in
	a listing, treat the separator as part of the description rather
	than as part of the match, and account for lines that have already
	wrapped due to very long matches.

	* 31781: Src/Zle/computil.c: "compdescribe -i" must clear the
	completion list column padding width along with the rest of the
	description state.  Cf. 31782.

2013-09-26  Barton E. Schaefer  <schaefer@zsh.org>

	* 31772: Src/params.c: queue_signals() to prevent re-entry into
	endparamscope().

	* 31770: Src/hist.c: memmove() instead of memcpy() for overlapping
	regions.

2013-09-25  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31765: Src/Zle/zle_main.c: on entry to editor, if starting in
	vi insert mode mark this as the start of an insertion (duh).

2013-09-23  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31764 (with correction of sense of a test): Src/glob.c,
	Src/pattern.c: use of array before initialisation wreaked havoc
	in detecting glob qualifiers.

2013-09-22  m0viefreak  <m0viefreak.cm@googlemail.com>

	* 31754: Completion/Unix/Command/_git: _git: git rm: make git rm
	--cached work as intended

2013-09-22  Øystein Walle  <oystwa@gmail.com>

	* 31752: Completion/Unix/Command/_git: _git: change completion
	text for consistency

2013-09-22  m0viefreak  <m0viefreak.cm@googlemail.com>

	* 31753: Completion/Unix/Command/_git: _git: correct some
	"undocumented" options

2013-09-22  Øystein Walle  <oystwa@gmail.com>

	* 31749: Completion/Unix/Command/_git: _git: fix some typos in
	description texts

	* 31751: Completion/Unix/Command/_git: _git: remove TODOs of
	actually documented options

2013-09-22  m0viefreak  <m0viefreak.cm@googlemail.com>

	* 31746: Completion/Unix/Command/_git: _git: reword _git-config
	TODO

	* 31748: Completion/Unix/Command/_git: _git: support completing
	remote branches without <remote>/ prefix

2013-09-22  Øystein Walle  <oystwa@gmail.com>

	* 31747: Completion/Unix/Command/_git: _git: completion updates to
	match latest git v1.8.3 part 2

	* 31750: Completion/Unix/Command/_git: _git: add new configuration
	options to match latest git v1.8.3

2013-09-22  m0viefreak  <m0viefreak.cm@googlemail.com>

	* 31741: Completion/Unix/Command/_git: _git: fix a wrong variable
	in __git_config_values

	* 31743: Completion/Unix/Command/_git: _git: fix usage of ->int:
	for some entries in _git-config

	* 31744: Completion/Unix/Command/_git: _git: make git submodule
	<cmd> completion work

	* 31745: Completion/Unix/Command/_git: _git: correctly use
	__git_guard_number in some cases

	* 31755: Completion/Unix/Command/_git: _git: completion updates to
	match latest git v1.8.3

2013-09-21  Barton E. Schaefer  <schaefer@zsh.org>

	* unposted: Src/glob.c: improve an error message.

2013-09-19  Barton E. Schaefer  <schaefer@zsh.org>

	* 31737: Src/Zle/computil.c (get_cadef): same fix as get_cvdef.

2013-09-19  Peter Stephenson  <p.stephenson@samsung.com>

	* Axel Beckert: 31735: Src/Zle/computil.c (get_cvdef):
	off-by-one in obscure loop handling could cause crash in complex
	completion.

2013-09-14  Luka Perkov  <luka@openwrt.org>

	* 31723: Completion/Unix/Command/_systemd: _systemd: add more
	system commands

	* 31726: Completion/Unix/Command/_git: _git: add few more
	arguments for cherry-pick and revert

2013-09-10  Barton E. Schaefer  <schaefer@zsh.org>

	* 31714: Completion/Zsh/Command/_cd: handle ".." properly when
	$PWD or the path prefix traverses a symbolic link.

2013-09-08  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31711: Doc/Zsh/contrib.yo, Functions/MIME/zsh-mime-handler:
	add execute-never style for MIME handler for files on alien file
	systems.

2013-09-07  Luka Perkov  <luka@openwrt.org>

	* 31708: Completion/Unix/Command/_git: _git: add --fixup and
	--squash options to commit

2013-09-06  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Luka Perkov: 31702: Completion/Unix/Command/_git:
	check for presence of "-i" when checking for "--interactive".

	* 31706: Src/builtin.c, Test/C02cond.ztst: standardise
	handling of "test ! <x> <y> <z>".

2013-09-04  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31696: Src/parse.c, Test/C02cond.ztst: in "test", no one
	can hear if you shriek.  Treat exclamation marks as strings in
	"! -a ..." and "! -o ...".

2013-09-02  Peter Stephenson  <p.stephenson@samsung.com>

	* 31685: Doc/Zsh/mod_mapfile.yo: documentation of how to get
	lines from a file is not correct.

2013-08-29  Peter Stephenson  <p.stephenson@samsung.com>

	* users/17955: Doc/Zsh/contrib.yo,
	Functions/MIME/zsh-mime-handler: "disown" style makes MIME
	handlers put into background run without job control.

	* based on 31641, 31642: Completion/Unix/Command/_make: support
	a couple of different variants of make.

2013-08-26  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31672: Src/Modules/zpty.c, Test/V08zpty.ztst: add test that
	was failing and fix race when setting up pty.

2013-08-25  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31665: Src/Modules/zpty.c, Test/V08zpty.ztst, Test/.distfiles:
	zpty should attach terminal on slave.

2013-08-17  Barton E. Schaefer  <schaefer@zsh.org>

	* 31637: Src/builtin.c: change of directory should not be retried
	relative to the current directory when it has already failed along
	some path that does not refer to the current directory.

2013-08-11  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31650: Src/utils.c: use zlong for mailcheck parameters to
	ensure sufficient range.

2013-08-10  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31648: joe M: Src/utils.c: fix timing errors in mailcheck.

2013-08-08  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Src/Zle/zle_tricky.c (inststrlen): 31644: the wrong length was
	used when inserting multibyte characters from a string from
	outside ZLE into the editing buffer.

	* users/17908: Src/hist.c Src/Zle/zle_main.c Src/zsh.h: if
	modifying history with ZLE active, keep the history line
	recorded in ZLE in sync.

2013-08-07  Phil Pennock  <pdpennock@users.sourceforge.net>

	* 31634: Functions/Misc/run-help: run-help compat with alias to
	noglob/nocorrect

2013-08-05  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31631: configure.ac, Src/builtin.c: use cygwin_conv_path in
	preference to cygwin_conv_to_posix_path if available.

2013-08-04  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Yuusuke Yoshimoto: 31632: Completion/Unix/Type/_java_class:
	suppress stderr from jar when completing classes.

2013-08-02  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31611: Src/Zle/zle_tricky.c: attempt to fix crash in
	"for in 1; do <[TAB] x".

2013-08-01  Peter Stephenson  <p.stephenson@samsung.com>

	* Thomas Klausner: 31625: Completion/X/Command/_mplayer: mplayer
	supports .ts (transport stream) files.

2013-07-29  Peter Stephenson  <p.stephenson@samsung.com>

	* 17891: Src/builtin.c: fix error message for invalid file
	descriptor in "print -u".

2013-07-28  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Manuel Presnitz: 31592 (with minor changes of phrasing):
	Doc/Zsh/builtins.yo, Doc/Zsh/expn.yo, Doc/Zsh/prompt.yo: improve
	documentation for named directory handling.

2013-07-25  Peter Stephenson  <p.stephenson@samsung.com>

	* Jun T.: 31756: Completion/Unix/Command/_make: further make
	completion improvements: tke care of mutually exclusive options;
	add _description using $state_descr; add completions for
	--debug=flag; fix typo (pointed out by Daniel Shahaf).

	* 31574: Src/parse.c: alternative fix to 31545 if FD_CLOEXEC is
	not available, removing dump records more consistently.

2013-07-24  Richard Hartmann  <richih.mailinglist@gmail.com>

	* 31571: Completion/Unix/Command/_vcsh: Update

	* 31572: Completion/Debian/Command/_linda,
	Completion/Debian/Command/.distfiles: Remove _linda

2013-07-24  Peter Stephenson  <p.stephenson@samsung.com>

	* Src/hist.c: 31570: with HIST_REDUCE_BLANKS don't truncate
	the line after the last word if there's more non-white-space
	text (probably a comment but we don't assume that).

2013-07-22  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Src/lex.c: correct previous commit: should call
	hwend(), not ihwend().

	* 31559: Src/lex.c: Fix problem with history lines for comments
	that occur in the middle of an alias.

	* Eric Cook: 31558: Completion/Command/Unix/_qemu: name of
	binary has changed.

2013-07-21  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31549: Src/exec,c, Src/zsh.h: replace ad-hoc subsh_close file
	descriptor for pipes with new addfilelist() job-based mechanism.

2013-07-20  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31545: Src/exec.c, Src/parse.c: if FD_CLOEXEC is available,
	so mark dump file file descriptors, avoiding possible
	multiple use of file descriptors.

2013-07-19  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* c.f. 31531: Completion/Unix/Command/_imagemagick,
	Completion/Unix/Command/_graphicsmagick: complete .xcf files.

2013-07-19  Peter Stephenson  <p.stephenson@samsung.com>

	* 31536 (plus memory leak fixed, plus test code):
	Src/jobs.c, Test/D03procsubst.ztst: fix hang in 31528 by
	closing process substitution file descriptors when waiting
	for job to finish.

2013-07-17  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31528: Src/exec.c, Src/jobs.c, Src/zsh.h: use job table
	to record file descriptors associated with process
	substitution.

	* Jun T: 31525: Completion/Unix/Command/_make: fix some option
	handling.

2013-07-12  Peter Stephenson  <p.stephenson@samsung.com>

	* Nick Cross: 31512: Completion/Unix/Command/_make:
	extra GNU options plus fix to makefile completion.

2013-07-11  Peter Stephenson  <p.stephenson@samsung.com>

	* users/17856: Completion/Command/Unix/_make: rewrite to use
	_arguments so as to make adding option handling easier.

2013-07-03  Peter Stephenson  <p.stephenson@samsung.com>

	* 31503: Doc/Zsh/contrib.yo, Functions/Misc/zmv: split words
	in program passed to zmv with -p and add -P for programs
	that don't understand the "--" convention.

2013-06-28  Clint Adams  <clint@zsh.org>

	* 31500: Completion/Debian/Command/_dput: dput-ng completion
	support from Sebastian Ramacher.

	* 31499: Completion/Debian/Command/_dcut: dcut completion
	from Sebastian Ramacher.

	* 31498: Completion/Debian/Command/_dak: complete files for
	subcommands that are not explicitly specified.

2013-06-27  Mikael Magnusson  <mikachu@gmail.com>

	* 31483: Call zrefresh() before unqueue()ing signals, was
	moved in 31174.

2013-06-18  Frank Terbeck  <ft@bewatermyfriend.org>

	* 31485: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	vcs_info, git: Avoid error messages for `guilt' users

2013-06-13  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31465: Completion/compinit, Src/glob.c, Src/pattern.c: fix
	basic completion and globbing use of pattern disables.

	* 31444: Doc/Zsh/builtins.yo, Doc/Zsh/options.yo,
	Doc/zmacros.yo, Src/builtin.c, Src/exec.c, Src/options.c,
	Src/pattern.c, Src/zsh.h: Basic (not fully functional) code for
	enable/disable -p.

2013-06-13  Barton E. Schaefer  <schaefer@zsh.org>

	* 31474: Makefile.in, Src/zsh.mdd: create patchlevel.h correctly
	when running make in a separate build tree

2013-06-10  Peter Stephenson  <p.stephenson@samsung.com>

	* Hong Xu: 31462: .editorconfig: move comment to individual
	line.

	* Bruce Stephens (via Axel Beckert of Debian): 31459:
	Doc/ztexi.yo: alignment of zsh info menu entry is wrong.

2013-06-09  Barton E. Schaefer  <schaefer@zsh.org>

	* 31466: .cvsignore, .gitignore: Cause git and cvs to ignore
	one another.

	* 31205: Completion/Base/Widget/_complete_help:  Do not display
	"(eval)" as a tag context.

2013-06-01  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31441: Src/glob.c, Src/pattern.c, Src/zsh.h: use an array
	based on ZPC_* enum to decide which forms of pattern are enabled.

2013-05-30  Peter Stephenson  <p.stephenson@samsung.com>

	* 31436: Doc/Zsh/expn.yo: KSH_GLOB syntax does not
	support recursive directories.

2013-05-29  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31433: Completion/Unix/Command/_gzip: zcat -f doesn't
	need files with suffix .gz.

	* 31422: Doc/Zsh/calsys.yo, Functions/Calendar/age: better
	heuristic for timestamps in use of :file feature.

2013-05-22  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31405: Doc/Zsh/options.yo: weasel words about
	PRINT_EXIT_STATUS option.

2013-05-21  Peter Stephenson  <p.stephenson@samsung.com>

	* 31419: Src/Modules/stat.c: Add time zone and year to
	default time format with -s option to zstat.

	* 31418: Doc/Zsh/calsys.yo, Functions/Calendar/age:
	in "age" docs correct typo and note the feature that
	you can supply a file as a timestamp on the command line.

	* Stephane: 31417: Functions/Calendar/age: needs --
	to protect againts files starting with -.

2013-05-20  Barton Schaefer  <schaefer@zsh.org>

	* 31416: Src/builtin.c: upon "read" of a short line, assign all
	variables passed as arguments.

2013-05-14  Peter Stephenson  <p.stephenson@samsung.com>

	* unposted: Completion/Unix/Command/_perforce: Improve
	Perforce jobs completion to limit potentially huge output
	using jobview by default; fix quoting of arguments passed on
	to eval within _call_program.

2013-05-10  Peter Stephenson  <p.stephenson@samsung.com>

	* Richard Hartmann <richih.mailinglist@gmail.com>: 31389:
	Completion/X/Command/_mplayer: add .ogv.

	* Mihai Moldovan <ionic@ionic.de>: 31387: Src/zsh_system.h:
	unused functions when compiling with clang.

2013-05-05  Frank Terbeck  <ft@bewatermyfriend.org>

	* unposted: Src/exec.c: Revert "31372: Do not block SIGWINCH for
	child processes" as suggested by Bart.

	* 31376: Src/exec.c: Make sure every execve() is prefixed by
	winch_unblock()

2013-05-05  Bart Schaefer  <schaefer@zsh.org>

	* 31372: Src/exec.c: Do not block SIGWINCH for child processes

2013-05-05  Kenyon Ralph  <kenyon@kenyonralph.com>

	* 31371: Completion/Linux/Command/_brctl: _brctl: update brctl
	subcommands

2013-05-04  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31369: Completion/Base/Utility/_comp_locale: action if locale
	command is not usable.

2013-04-29  Bart Schaefer  <schaefer@zsh.org>

	* 31361: Src/init.c: handle negative optno ("no" prefix used)
	when storing options with parseopts_insert() for sticky contexts

	* 31353: Src/math.c: fix handling of floating point in ternary

	* 31350: Src/init.c, Src/input.c, Src/signals.h, Src/utils.c,
	Src/Zle/zle_main.c: block SIGWINCH nearly all the time, except
	when about to calculate prompts or do synchronous read, so
	syscalls are not interrupted by window size changes.

2013-04-29  Jun T  <takimoto-j@kba.biglobe.ne.jp>

	* 31357: Completion/Unix/Command/_cp: add support for Mac OS X

2013-04-29  Peter Stephenson  <p.stephenson@samsung.com>

	* 31356: Completion/Unix/Command/_subversion: typo noted by Bart.

	* 31355: Completion/Base/Utility/.distfiles,
	Completion/Base/Utility/_comp_locale,
	Completion/Unix/Command/_subversion: _comp_locale tries to
	sanitise locales but keep CTYPE; use this for subversion completion.

2013-04-25  Ramkumar Ramachandra  <artagnon@gmail.com>

	* 31288: Completion/Unix/Command/_git: _git: fix shortlog
	completer

2013-04-21  Ramkumar Ramachandra  <artagnon@gmail.com>

	* 31286: Completion/Unix/Command/_git: _git: add a couple of
	browsers

	* 31289: Completion/Unix/Command/_git: _git: branch.*.pushremote,
	remote.pushdefault

2013-04-20  Torstein Hegge  <hegge@resisty.net>

	* 31159: Completion/Unix/Command/_git: git: Pass prefix filter to
	ls-files even if it matches no files

2013-04-20  Jun T  <takimoto-j@kba.biglobe.ne.jp>

	* 31281: Completion/Unix/Command/_du: _du: add support for Mac OS
	X

2013-04-20  Bart Schaefer  <schaefer@zsh.org>

	* 31272: Src/Zle/compctl.c: avoid double free.

2013-04-16  Peter Stephenson  <p.stephenson@samsung.com>

	* Daniel Friesel: 31265: Completion/Unix/Command/_devtodo:
	improved option handling.

2013-04-13  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: .gitignore: ignore PDF and PS versions of intro file.

2013-04-12  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31263 (changed * to - for consistency with elsewhere):
	Doc/Zsh/mod_curses.yo: suppress texinfo warning by adding item
	arguments.

	* 31261: Doc/Zsh/compsys.yo, Doc/ztexi.yo: updates needed
	with latest texinfo.

2013-04-10  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/17754: Src/builtin.c: failing to retie an array
	and colon-separated scalar shouldn't be a fatal error.

2013-04-09  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31246: Makefile.in, Src/zsh.mdd: make a separate patch level
	header for releases.

2013-04-08  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Completion/Unix/Command/.distfiles,
	Completion/Unix/Command/.distfiles: remove mention of files no
	longer there.

2013-04-07  Bart Schaefer  <schaefer@zsh.org>

	* 31234: Completion/Base/Widget/_complete_help: use an "always"
	block instead of "trap" to clean up various function overrides

2013-04-05  Frank Terbeck  <ft@bewatermyfriend.org>

	* 31174: Src/Zle/zle_main.c: 31174: zle: Make sure state changes
	are refreshed after init hook

	* 31172: Src/Zle/zle_main.c: 31172: Let vared define custom init
	and finish hooks

	* 31175: Doc/Zsh/zle.yo: 31175: Add documentation for the new -i
	and -f options of vared

	* 31221: Completion/Unix/Command/_git: Handle zero defined aliases
	better

	* 31222: Functions/Zle/down-line-or-beginning-search,
	Functions/Zle/up-line-or-beginning-search: Don't trigger
	warn_create_global

2013-04-04  Peter Stephenson  <p.stephenson@samsung.com>

	* 31203: Completion/Unix/Command/.distfiles,
	Completion/Unix/Command/_etags: new etags completion.

2013-02-18  Aaron Schrab  <aaron@schrab.com>

	* 07478c6b: Src/zsh.mdd: Generate patch level using `git describe`

2013-04-02  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T.: 31183: Src/Zle/zle_move.c: record old line rather than
	history line in vi-goto-mark.

2013-03-29  Mikael Magnusson  <mikachu@gmail.com>

	* 31182: Completion/Unix/Command/_awk: Allow sticked arguments.

2013-03-20  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Han Pingtian: 31167 (with tweak):
	Completion/Unix/Command/_ssh: limit use of colons for detecting
	a remote path.

2013-03-19  Bart Schaefer  <schaefer@zsh.org>

	* 31158: Src/pattern.c: following a wildcard with a repetition
	produces a bad pattern error instead of an unbounded search

2013-03-17  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31156: Completion/Zsh/Context/_math,
	Completion/Zsh/Context/_zcalc_line, Completion/Zsh/Type/.distfile,
	Completion/Zsh/Type/_math_params,
	Completion/Zsh/Type/_module_math_func,
	Completion/Zsh/Type/_user_math_func: improved math context
	completion: functions.

	* 31155: Doc/Zsh/contrib.yo, Functions/Misc/zcalc: minor
        extra zcalc features and documentation.

2013-03-15  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31154: Doc/Zsh/contrib.yo, Functions/Misc/zcalc: make zcalc
	understand continuation lines using backslash.

2013-03-14  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31151: Pavol Juhas: complete (C etc) tags better
	when file system is not case sensitive.

2013-03-13  Mikael Magnusson  <mikachu@gmail.com>

	* unposted: Doc/Zsh/contrib.yo: Also adjust a mention of psvar
	in the vcs info documentation.

	* 31140: Src/math.c: when the math recursion limit is hit, make
	sure to not leave *ep pointing nowhere, which caused a crash
	sometimes. Also print the token that we refused to evaluate
	because of the limit.

2013-03-13  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted, c.f. thread from 31144: Doc/Zsh/params.yo: all psvar
	entries can be shown in prompts nowadays.

2013-03-10  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31141: Src/exec.c, Test/A04redirect.ztst: NO_CLOBBER for {fd}
	syntax should only apply if $fd is exactly an fd and nothing
	else.

2013-03-10  Mikael Magnusson  <mikachu@gmail.com>

	* 30496: Src/prompt.c: Parse argument to %F and %K as prompt
	sequences. This allows constructs like %F{%3v} to use $psvar[3]
	for the color.

	* 30490: Completion/Unix/Command/_java: Complete files for the
	-keystore argument.

	* 30639: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	Add support for showing the current action is cherry-pick (happens
	when cherry-picking a range).

	* 31136: Functions/VCS_Info/Backends/VCS_INFO_get_data_git:
	just set parameters instead of passing over a pipe.

2013-03-05  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/17666: Doc/Zsh/contrib.yo, Functions/Misc/zcalc: -f
	option to zcalc sets FORCE_FLOAT.

	* users/17665: Doc/Zsh/options.yo, Src/math.c, Src/options.c,
	Src/zsh.h, Test/C01arith.ztst: add FORCE_FLOAT option.

2013-02-27  Oliver Kiddle  <opk@zsh.org>

	* 31076: Completion/Linux/Command/_yast,
	Completion/Unix/Type/_pids, Completion/Unix/Type/_pdf:
	fix cases of more than one completion function for a command

	* 31077: Completion/Unix/Command/_sort: update for new
	options in GNU sort

	* c.f. 31071: Completion/Unix/Type/_postscript,
	Completion/Unix/Command/_psutils: remove duplicate _osc and
	rename _ps to avoid name clash

2013-02-22  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31061: Completion/Zsh/Command/_typeset: "functions" completion
	takes account of options already on the command line.

	* 31060: Src/builtin.c: "+" before a flag for "functions" or
	"autoload" should suppress display of function body.

2013-02-21  Oliver Kiddle  <opk@zsh.org>

	* 31058: Completion/Zsh/Command/_fc, Completion/Unix/Command/_cut,
	Completion/Unix/Command/_sed, Completion/Unix/Command/_wget,
	Completion/Unix/Command/_xmlsoft: add options from newer
	versions of some commands to completion functions

2013-02-19  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31055: Completion/compaudit: missing '$' in search of /proc
	file system.

2013-02-12  Oliver Kiddle  <opk@zsh.org>

	* 31041: Test/comptest, Test/X02zlevi.ztst: add support for
	testing line editor widgets from the test suite

	* unposted: Etc/zsh-development-guide: remove duplication in
	git guidelines

2013-02-09  Oliver Kiddle  <opk@zsh.org>

	* Morita Sho: 31038: Completion/Unix/Type/_terminals:
	add location of terminfo entries on Debian

	* 31037: Src/Zle/zle_move.c: return to previous position
	with vi-goto-mark using `` or ''

2013-02-07  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	*  Wieland Hoffmann: 31030: Completion/X/Command/_mplayer:
	improve label for selected files.

	*  Wieland Hoffmann: 31029: README: correct directory.

	* Han Pingtian: 31027: Completion/Unix/Type/_files: remove
	the -g's from the glob options.

2013-02-03  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Eric P. Mangold: c.f. 31016
	http://twistedmatrix.com/trac/browser/trunk/twisted/python/twisted-completion.zsh?format=txt:
	completion for twisted using internally generated completion.

2013-02-01  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 31015: Completion: compaudit: where we can find who owns the
	zsh executable, allow the same owner to own completion files.

2013-02-01  Mikael Magnusson  <mikachu@gmail.com>

	* unposted: Fix _prove completer commit.

2013-01-29  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jesper Nygårds: 31012: Completion/Unix/Command/_gradle:
	updates.

	* Dmitry Roshchin: 31008: Completion/openSUSE/Command/_zypper,
	Completion/openSUSE/Command/_osc: updates.

2013-01-26  Bart Schaefer  <schaefer@zsh.org>

	* 31000: Doc/Zsh/contrib.yo: fix typo in example.

2013-01-24  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/17608: Doc/Zsh/contrib.yo,
	Functions/Zle/modify-current-argument: use function to modify
	current command line argument.

2013-01-22  Peter Stephenson  <p.stephenson@samsung.com>

	* 30993: Src/subst.c, Test/D04parameter.ztst: parameter
	modifiers :wq operating on an empty string crashed the shell.
	The shell isn't supposed to crash.

2013-01-20  Oliver Kiddle  <opk@zsh.org>

	* 30987: Completion/X/Command/_xrandr: only call xrandr when
	necessary and use _call_program

2013-01-14  Peter Stephenson  <p.stephenson@samsung.com>

	* 30960: Alexey Bezhan: Completion/Unix/Command/_django:
	compatibility issue.

2013-01-10  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30958: Jeremy Mates: Completion/Unix/Command/_prove,
	Completion/Unix/Command/.distfiles: new completion.

2013-01-07  Bart Schaefer  <schaefer@zsh.org>

	* unposted (see 30952): Src/builtin.c: tweak to 30949 to fix the
	buffer pointer.

2013-01-06  Bart Schaefer  <schaefer@zsh.org>

	* 30949: Src/builtin.c: restore "read -q" behavior lost by 27188.

2013-01-05  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30946: Robert Kovacsics: Completion/X/Command/_xrandr: use
	command to generate completions.

2013-01-04  Peter Stephenson  <p.stephenson@samsung.com>

	* 30941: Completion/bashcompinit: scalars giving status of bash
	completion should be exported for external programmes.

2013-01-03  Bart Schaefer  <schaefer@zsh.org>

	* users/17524: Doc/Zsh/expn.yo: misc. parameter flag clarifications.

2013-01-03  Peter Stephenson  <pws@csr.com>

	* unposted: Config/version.mk: update version to 5.0.2-dev-0
	to avoid clash with release.

2012-12-21  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: README, Config/version.mk, Etc/FAQ.yo: release
	5.0.2.

2012-12-21  Peter Stephenson  <pws@csr.com>

	* 30930: Src/parse.c, Test/D03procsubst.ztst: anonymous
	functions shouldn't be marked as simple; this prevented process
	based features from working in their arguments.

2012-12-20  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Config/version.mk: zsh 5.0.1.

2012-12-18  Oliver Kiddle  <opk@zsh.org>

	* 30877: Etc/zsh-development-guide: document git workflow

2012-12-18  Peter Stephenson  <pws@csr.com>

	* 30914: mkinstalldirs: default mode for installation
	directories is 755.

2012-12-17  Phil Pennock  <pdpennock@users.sourceforge.net>

	* 30901, 30906: Etc/zsh-development-guide: document git usage,
	update patch descriptions, mention editorconfig.

2012-12-16  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: README, Config/version.mk, Etc/FAQ.yo,
	Completion/Base/Utility/.distfiles,
	Completion/Unix/Command/.distfiles,
	Completion/Unix/Type/.distfiles, for 5.0.0-test-1.

	* unposted: Src/utils.c: missing mod_export.

2012-12-13  Peter Stephenson  <pws@csr.com>

	* 30876: Src/exec.c, Test/A06assign.ztst, Test/C03traps.ztst:
	obscure failures to process non-zero return values could result
	from optimising a list to a simple command.

2012-12-08  Bart Schaefer  <schaefer@zsh.org>

	* users/17445: Src/math.c, Test/C01arith.ztst: fix handling of
	leading zeroes in floating point.

2012-11-20  Oliver Kiddle  <opk@zsh.org>

	* 30811: Completion/Linux/Command/_btrfs,
	Completion/Unix/Command/_mount: new completion for btrfs and
	complete btrfs and ext4 mount options and new linux mount flags

2012-11-16  Vin Shelton  <acs@xemacs.org>

	* users/16865: Doc/Zsh/grammar.yo: Added missing menu item for Errors.

2012-11-18  Bart Schaefer  <schaefer@zsh.org>

	* users/17042: Src/jobs.c: don't stomp the environment in "jobs -Z"
	unless we've first copied it to new memory.

2012-11-16  Oliver Kiddle  <opk@zsh.org>

	* 30802: Completion/Unix/Command/_find: add new command switches

	* 30801: Completion/X/Command/_urxvt, Completion/X/Type/_xft_fonts:
	fix font completion for newer fontconfig & update urxvt completion

2012-11-15  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30789: Doc/Zsh/grammar.yo, Doc/Zsh/options.yo, Src/hist.c,
	Src/init.c, Src/options.c, Src/zsh.h, Test/A04redirect.zsh:  add
	CONTINUE_ON_ERROR option for compatibility but turn it off:
	scripts exit on an error instead of returning to the top-level
	like interactive shells.

	* 30800: Michal Halenka: Completion/Unix/Command/_arping: fix
	option.

2012-11-12  Oliver Kiddle  <opk@zsh.org>

	* 30795: Completion/Unix/Command/_xz,
	Completion/Unix/Command/_bzip2: new xz completion, new bzip2 options

	* 30794: Completion/Unix/Command/_irssi,
	Completion/Unix/Command/_mutt: update for new options

2012-11-11  Oliver Kiddle  <opk@zsh.org>

	* 30793: Completion/Unix/Command/_getent,
	Completion/Unix/Command/_iconv, Completion/Unix/Command/_ldd:
	account for eglibc in _pick_variant patterns

2012-11-08  Bart Schaefer  <schaefer@zsh.org>

	* 30786: Src/builtin.c: do not enter interactive history editing
	or command execution if "fc" is called from a ZLE widget.

2012-11-08  Peter Stephenson  <pws@csr.com>

	* 30783: Src/lex.c: we don't want leading "="'s to be active when
	tokenising strings that aren't going to be treated as command
	line arguments.

	* 30780: Doc/Zsh/builds.yo: document that set -o failures are
	hard but setopt failures are soft.

2012-11-07  Oliver Kiddle  <opk@zsh.org>

	* Benjamin R. Haskell: 30737: Completion/Unix/Command/_git:
	make custom completion functions for git aliases easier

	* users/17382: Completion/Unix/Type/_remote_files,
	Completion/Unix/Command/_vim, Completion/Unix/Command/_git,
	Completion/Unix/Type/_urls: complete URLs for vim and make
	_remote_files more consistent with _files

2012-10-25  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30735: Src/parse.c: array assignments aren't simple because
	they can contain process substitutions.

2012-10-19  Peter Stephenson  <pws@csr.com>

	* Roman Kaminski: 30738: Completion/Unix/Command/_bzr: send
	command.

	* Greg Bouzakis: 30741: Completion/Unix/Command/_systemd: add
	suspend command.

	* unposted: Doc/Zsh/expn.yo: further splitting clarifications.

2012-10-18  Peter Stephenson  <pws@csr.com>

	* 30740: Doc/Zsh/expn.yo: add example of process substitution
	with anonymous function.

	* c.f. users/17330: Doc/Zsh/expn.yo: fix reference to splitting
	rule in parameter expansion rules.

2012-10-11  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30726: Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c,
	Src/hashtable.c, Src/init.c, Src/options.c, Src/parse.c,
	Src/signals.c, Src/zsh.h, Src/Modules/parameter.c,
	Test/B07emulate.ztst: extend 30722 to handle the case
	where shell options passed to the emulate command need
	propagating to sticky emulation.

2012-10-11  Peter Stephenson  <pws@csr.com>

	* 30724: Src/exec.c, Src/jobs.c: shell code optimised to use
	execsimple() doesn't have a valid thisjob.

2012-10-09  Peter Stephenson  <pws@csr.com>

	* users/17318: Src/Zle/zle_utils.c: don't increment the undo
	change number for every variable read, only the first in a row.

	* users/17314: Src/Zle/zle_utils.c: ensure an undo change number
	uniquely specifies a point in editing history by incrementing
	the value returned by the variable.

	* unposted: Src/builtin.c: fix trivial typo with "functions +T".

2012-10-07  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30722: Src/builtin.c, Src/exec.c, Src/init.c, Src/options.c,
	Src/Modules/parameter.c, Test/B07emulate.ztst: fix some cases
	where options or emulations were not propagated properly
	from the emulate command.

	* 30718: README, Doc/Zsh/builtins.yo, Src/builtin.c,
	Test/C04funcdef.ztst: emulate command evaluations should apply
	sticky emulation to autoloads, too.

2012-10-07  Oliver Kiddle  <opk@zsh.org>

	* unposted: Completion/Unix/Command/_webbrowser,
	Completion/Unix/Type/_pspdf: add evince, zathura, dwb

	* 30714: Completion/X/Command/_xclip: complete files,-t,-f for xclip

2012-10-05  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30716: Src/options.c: IGNORECLOSEBRACES should be an emulation
	option since it changes what syntax is valid.

	* 30715: Src/init.c, Src/lex.c, Src/parse.c, Src/subst.c,
	Src/zsh.h, Src/Zle/zle_tricky.c: use a named enum for
	lexical tokens.

2012-10-03  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/17305: Doc/Zsh/expn.yo: fix documentation for ordering
	of word splitting and improve (z) and (Z) documentation.

	* users/17310: Doc/Zsh/params.yo, Src/lex.c, Test/A04redirect.ztst,
	Test/D06subscript.ztst: back off users/17304 owing to problem
	with [ command, document problem, and test the case that needs
	to work.

2012-10-02  Peter Stephenson  <pws@csr.com>

	* users/17304: Src/lex.c, Test/D06subscript.ztst: angle brackets
	aren't associated with special parsing inside square brackets.

2012-09-30  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Aaron Schrab: 30712: .editorconfig: multi-editor specification
	of editing formats.

	* Aaron Schrab: 30711: Completion/Unix/Type/_bind_addresses:
	improved IPv6 completion.

	* Aaron Schrab: 30710: Completion/Unix/Command/_perldoc: updates.

2012-09-29  Frank Terbeck  <ft@bewatermyfriend.org>

	* Seth House: 30702: Doc/Zsh/contrib.yo,
	Functions/VCS_Info/Backends/VCS_INFO_get_data_hg: Removed --debug
	flag from the hg vcs_info backend

	* Seth House: 30701: Misc/vcs_info-examples: Added an hg hook
	example to restore the 40-char hash

	* Baptiste Daroussin: 30703:
	Functions/VCS_Info/Backends/VCS_INFO_detect_fossil: Fix fossil
	detection on unix

2012-09-28  Oliver Kiddle  <opk@zsh.org>

	* 30697: Completion/Unix/Command/_dbus: new completion definition

2012-09-21  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30692: Completion/Unix/Type/_path_files, Doc/Zsh/builtins.yo,
	Src/builtin.c: allow autoload +X -m to work; change _path_files
	so it works on that.

2012-09-21  Peter Stephenson  <pws@csr.com>

	* 30687 (typo fixed): Doc/Zsh/params.yo, Src/jobs.c: don't
	REPORTTIME if zleactive (but time keyword is allowed).

2012-09-15  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Александр Балезин: 30667: Completion/Unix/Command/_ip: add
	addrlabl subcommand.

2012-09-11  Peter Stephenson  <pws@csr.com>

	* unposted: NEWS: refer to some newly added features.

	* 30647, 30649: Doc/Zsh/arith.yo, Src/math.c, Src/utils.c,
	Test/C01arith.ztst: allow underscores in numeric constants
	within math evaluation.

2012-09-09  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T.: 30664: configure.ac: fix some Yodl version issues.

2012-09-08  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/17236: Src/builtin.c: r and other fc output didn't
	unmetafy when listing to a file other than stdout.

2012-09-06  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30656: Src/math.c: treat dividing by -1 the same as
	multiplying by it to get around SIGFPE.

2012-09-05  Peter Stephenson  <pws@csr.com>

	* Jun T.: 30658: Completion/Unix/Command/_uniq: more options.

	* Silas Silva: users/17223: Completion/Unix/Command/_lp:
	page-ranges option.

2012-09-03  Peter Stephenson  <pws@csr.com>

	* users/17213: Completion/Base/Completer/_user_expand,
	Doc/Zsh/compsys.yo: allow REPLY to pass a description for an
	expansion.

2012-08-27  Peter Stephenson  <p.w.stephenson@ntlworld. com>

	* Oliver (olipro): 30643: Completion/Linux/Command/_ipset:
	completion update.

2012-08-25  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* John Stahara: 30641: Src/Zle/zle_keymap.c: bindkey -N
	error report is misleading when copying keymap.

2012-08-23  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* Jun T: 30640 (plus additional comment): Src/zsh.h,
	Src/compat.c: MacOS doesn't define __STDC_ISO_10646__ but we
	need the replacement wcwidth() anyway.

2012-08-23  Peter Stephenson  <pws@csr.com>

	* Aaron Schrab: 30636: Completion/Unix/Command/_telnet:
	telnet-ssl options.

	* Aaron Schrab: 30637: Completion/Unix/Command/_telnet: -b option

	* Aaron Schrab: 30638: Completion/Unix/Command/_telnet: IPv4
	and IPv6 options.

2012-08-21  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* users/17211: Completion/Unix/Type/_files, Doc/Zsh/compsys.yo:
	new recursive-files style.

	* 30633: Doc/Zsh/builtins.yo, Src/builtin.c, Src/exec.c,
	Src/hashtable.c, Src/options.c, Src/subst.c, Src/zsh.h:
	"functions -T" traces only marked function and not called
	functions unless also marked.

2012-08-20  Peter Stephenson  <pws@csr.com>

	* Stepan Koltsov: 30634: Functions/Misc/zmv: use (q-) quoting
	for output for clarity.

2012-08-17  Peter Stephenson  <pws@csr.com>

	* Stepan Koltsov: 30632
	(https://raw.github.com/stepancheg/zsh/bfa81caaac44dacfa05adb77f61526ea90346219/Completion/Unix/Command/_clay):
	Completion/Unix/Command/_clay,
	Completion/Unix/Command/.distfiles:
	new completion.

	* Stepan Koltsov: 30632
	(https://github.com/stepancheg/zsh/commit/b0f1427e4983be6dfdc07ccaf86f153d5f9959b9.patch):
	Completion/Unix/Command/_gcc: aliases and clang-specific flags.

	* 30629 plus unposted formatting improvements:
	Doc/Zsh/builtins.yo, Src/Builtins/rlimits.c: more complete
	handling for socket buffer size limit (NetBSD) plus formatting
	and consistency changes (kb -> kbytes everywhere in ulimit
	output, K-bytes to kilobytes everywhere in documentation).

	* 30627: configure.ac, Doc/Zsh/builtins.yo,
	Src/Builtins/rlimits.awk, Src/Builtins/rlimits.c:
	support RLIMIT_NTHR as on NetBSD.

2012-08-16  Peter Stephenson  <pws@csr.com>

	* 30619: Doc/Zsh/builtins.yo, Src/builtin.c,
	Test/B02typeset.ztst: repeat "typeset -T" with same two first
	arguments is not an error.

	* 30617: Src/prototypes.h, Src/zsh_system.h: rationalise
	replacement of tgoto() prototype which could appear twice
	inconsistently.

2012-08-14  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: Etc/relnote_5.0.0.txt, Etc/.distfiles: add.

	* unposted: Etc/Changelog-4.3, Etc/ChangeLog-5.0,
	Etc/.distfiles: rename

2012-08-13  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: ChangeLog, Etc/ChangeLog-5.0: move changes up
	to 5.0 into subdirectory.

	* Michal Halenka: 30608: Completion/Unix/Command/_ip: del rather
	delete tunnel.

2012-08-13  Peter Stephenson  <pws@csr.com>

	* Jesse Weinstein: 30607: Doc/Makefile.in: fix ancient
	dependency problem with moved Yodl files.

	* Aaron Schrab: 30604: Src/Zle/zle_move.c: make repeating vi skip
	character useful by ignoring character just matched.

	* Aaron Schrab: 30603: Src/Zle/zle_move.c: repeating vi skip
	characters commands caused bad positioning.

2012-08-07  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* cat_in_136: 17200: Completion/Unix/Command/.distfiles,
	Completion/Unix/Command/_lha, Completion/Unix/Command/_nkf: new
	completions.  nkf is a Kanji code converter.

	* YAMAMOTO Takashi: 30599: Src/compat.c, Src/zsh.h: don't
	use the replacement wcwidth if not ISO-10646 as the assumptions
	it makes probably won't work.

2012-07-27  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* 30590: Doc/Makefile.in, Doc/.distfiles: work around problem
	turning intro.ms into PDF.

	* unposted: relabel as 5.0.0-dev-0.

2012-07-23  Geoff Wing  <gcw@zsh.org>

	* unposted: Doc/Zsh/ftp_sites.yo: Remove unavailable sites

2012-07-21  Peter Stephenson  <p.w.stephenson@ntlworld.com>

	* unposted: update for 5.0.0 release.
